import{a as L,r as O,D as $,c,e as n,f as r,p as d,t as v,g as _,F as k,h as w,L as y,o as i,n as C,w as N,s as T,l as V,T as A,_ as F}from"./index-CLTUvmfq.js";import{I as u}from"./iconify-D-PHLALP.js";import"./OwnerListEditor.vue_vue_type_style_index_0_scoped_1c0bad24_lang-CKrKAY3Z.js";const P={class:"owner-list-editor"},S={class:"editor-header"},D={class:"header-title"},M={class:"editor-hint"},z={class:"owner-items"},R=["onClick"],U={class:"platform-label"},j={key:0,class:"platform-dropdown"},G=["onClick"],H=["value","onInput"],J=["onClick"],K={key:0,class:"empty-state"},Q=L({__name:"OwnerListEditor",props:{value:{},title:{},description:{}},emits:["update"],setup(f,{emit:b}){const q=["qq","discord","telegram","wechat","slack","custom"],h=f,g=b,p=O(-1),l=$(()=>(Array.isArray(h.value)?h.value:[]).map(e=>{const o=String(e??""),t=o.indexOf(":");return t===-1?{platform:"qq",uid:o}:{platform:o.slice(0,t),uid:o.slice(t+1)}}));function m(a){g("update",a.map(e=>`${e.platform}:${e.uid}`))}function I(){m([...l.value,{platform:"qq",uid:""}])}function x(a){const e=l.value.filter((o,t)=>t!==a);m(e)}function B(a,e){p.value=-1;const o=l.value.map((t,s)=>s===a?{...t,platform:e}:t);m(o)}function E(a,e){const o=l.value.map((t,s)=>s===a?{...t,uid:e}:t);m(o)}return(a,e)=>(i(),c("div",P,[n("div",S,[n("div",D,[r(d(u),{icon:"lucide:shield-check"}),n("h4",null,v(f.title??"所有者列表"),1)]),n("p",M,v(f.description??"Bot 所有者，格式：platform:user_id（如 qq:123456）"),1)]),n("div",z,[(i(!0),c(k,null,w(l.value,(o,t)=>(i(),c("div",{key:t,class:"owner-item"},[n("div",{class:C(["platform-select",{"is-open":p.value===t}]),onClick:s=>p.value=p.value===t?-1:t},[n("span",U,v(o.platform||"平台"),1),r(d(u),{icon:"lucide:chevron-down",class:"chevron"}),r(A,{name:"drop"},{default:N(()=>[p.value===t?(i(),c("div",j,[(i(),c(k,null,w(q,s=>n("div",{key:s,class:C(["platform-option",{active:o.platform===s}]),onClick:T(W=>B(t,s),["stop"])},[y(v(s)+" ",1),o.platform===s?(i(),V(d(u),{key:0,icon:"lucide:check"})):_("",!0)],10,G)),64))])):_("",!0)]),_:2},1024)],10,R),n("input",{class:"input uid-input",type:"text",placeholder:"user_id",value:o.uid,onInput:s=>E(t,s.target.value)},null,40,H),n("button",{type:"button",class:"btn-icon delete-btn",onClick:s=>x(t),title:"删除"},[r(d(u),{icon:"lucide:trash-2"})],8,J)]))),128)),l.value.length===0?(i(),c("div",K,[r(d(u),{icon:"lucide:inbox"}),e[0]||(e[0]=n("p",null,"暂无所有者",-1))])):_("",!0)]),n("button",{type:"button",class:"add-btn",onClick:I},[r(d(u),{icon:"lucide:plus"}),e[1]||(e[1]=y(" 添加所有者 ",-1))])]))}}),tt=F(Q,[["__scopeId","data-v-1c0bad24"]]);export{tt as O};
