import{S as fe,a as Ee,r as y,G as Te,D as ce,c as a,e as t,g as m,f as r,p as u,n as w,F as Q,h as te,t as f,O as T,Q as R,o as n,_ as Oe,m as Je,N as kt,l as I,R as Pe,L as M,M as U,s as C,w as J,q as de,T as q,U as Ve,V as ze,A as gt}from"./index-CLTUvmfq.js";import{V as bt}from"./index-BJr7i0xa.js";import{I as d}from"./iconify-D-PHLALP.js";import{S as Re}from"./OwnerListEditor.vue_vue_type_style_index_0_scoped_1c0bad24_lang-CKrKAY3Z.js";const he="model-config",ye={CONFIG:`${he}/config`,CONFIG_RAW:`${he}/config/raw`,BACKUPS:`${he}/config/backups`,RESTORE:$=>`${he}/config/restore/${encodeURIComponent($)}`,TEST:`${he}/test`};async function qe(){const $=await fe.get(ye.CONFIG);if($.success&&$.data)return $.data;throw new Error($.error||"èŽ·å–æ¨¡åž‹é…ç½®å¤±è´¥")}async function Ke($){const B=await fe.put(ye.CONFIG,$);if(B.success&&B.data)return B.data;throw new Error(B.error||"ä¿å­˜æ¨¡åž‹é…ç½®å¤±è´¥")}async function Qe(){const $=await fe.get(ye.CONFIG_RAW);if($.success&&$.data)return $.data;throw new Error($.error||"èŽ·å–åŽŸå§‹é…ç½®å¤±è´¥")}async function He($){const B=await fe.post(ye.CONFIG_RAW,{content:$});if(B.success&&B.data)return B.data;throw new Error(B.error||"ä¿å­˜åŽŸå§‹é…ç½®å¤±è´¥")}async function Xe(){const $=await fe.get(ye.BACKUPS);if($.success&&$.data)return $.data;throw new Error($.error||"èŽ·å–å¤‡ä»½åˆ—è¡¨å¤±è´¥")}async function Ye($){const B=await fe.post(ye.RESTORE($));if(B.success&&B.data)return B.data;throw new Error(B.error||"æ¢å¤å¤‡ä»½å¤±è´¥")}async function wt($){return await fe.post(ye.TEST,{model_name:$})}async function Ze(){const $=await fe.get(`${he}/tasks-schema`);if($.success&&$.data)return $.data.tasks;throw new Error($.error||"èŽ·å–ä»»åŠ¡ Schema å¤±è´¥")}const Ge=Object.freeze(Object.defineProperty({__proto__:null,MODEL_CONFIG_ENDPOINTS:ye,getModelConfig:qe,getModelConfigBackups:Xe,getModelConfigRaw:Qe,getModelTasksSchema:Ze,restoreModelConfigBackup:Ye,saveModelConfig:Ke,saveModelConfigRaw:He,testModelConnection:wt},Symbol.toStringTag,{value:"Module"})),Ct={class:"extra-params-editor"},ht={class:"editor-header"},$t={class:"header-left"},At={class:"mode-toggle"},It={key:0,class:"form-mode"},Mt={key:0,class:"empty-state"},xt={key:1,class:"form-entries"},St=["onUpdate:modelValue"],Pt=["onUpdate:modelValue"],Vt=["onClick"],Et={key:2,class:"error-message"},Tt={key:1,class:"json-mode"},Ot={class:"json-editor-wrapper"},Dt={key:0,class:"json-error"},Ut={class:"json-tips"},Bt=Ee({__name:"ExtraParamsEditor",props:{modelValue:{}},emits:["update:modelValue"],setup($,{emit:B}){const ne=$,A=B,V=y("form"),P=y([]),L=y(""),D=y(""),O=y("");function oe(){const i=ne.modelValue||{};P.value=Object.entries(i).map(([p,S])=>({key:p,value:typeof S=="string"?S:JSON.stringify(S)}));try{D.value=Object.keys(i).length>0?JSON.stringify(i,null,2):"",O.value=""}catch{D.value="",O.value="æ— æ³•åºåˆ—åŒ–å½“å‰å‚æ•°"}}Te(()=>ne.modelValue,()=>{oe()},{immediate:!0,deep:!0});function le(){P.value.push({key:"",value:""})}function re(i){P.value.splice(i,1),H()}function ue(i){const p=i.trim();if(p==="")return"";if(p==="true")return!0;if(p==="false")return!1;if(p==="null")return null;if(/^-?\d+$/.test(p))return parseInt(p,10);if(/^-?\d+\.\d+$/.test(p))return parseFloat(p);if(p.startsWith("{")&&p.endsWith("}")||p.startsWith("[")&&p.endsWith("]"))try{return JSON.parse(p)}catch{}return i}function H(){L.value="";const i={},p=new Set;for(const S of P.value){const x=S.key.trim();if(x){if(p.has(x)){L.value=`å‚æ•°å "${x}" é‡å¤`;return}p.add(x),i[x]=ue(S.value)}}try{D.value=Object.keys(i).length>0?JSON.stringify(i,null,2):"",O.value=""}catch{O.value="åºåˆ—åŒ–å¤±è´¥"}A("update:modelValue",Object.keys(i).length>0?i:void 0)}function X(){O.value=""}function K(){const i=D.value.trim();if(!i){P.value=[],L.value="",O.value="",A("update:modelValue",void 0);return}try{const p=JSON.parse(i);if(typeof p!="object"||p===null||Array.isArray(p)){O.value="extra_params å¿…é¡»æ˜¯ä¸€ä¸ªå¯¹è±¡";return}O.value="",P.value=Object.entries(p).map(([S,x])=>({key:S,value:typeof x=="string"?x:JSON.stringify(x)})),L.value="",A("update:modelValue",p)}catch(p){O.value=`JSON è§£æžé”™è¯¯: ${p.message}`}}return ce(()=>ne.modelValue&&Object.keys(ne.modelValue).length>0),(i,p)=>(n(),a("div",Ct,[t("div",ht,[t("div",$t,[r(u(d),{icon:"lucide:braces"}),p[3]||(p[3]=t("span",{class:"header-title"},"é¢å¤–å‚æ•° (extra_params)",-1)),p[4]||(p[4]=t("span",{class:"header-hint"},"è‡ªå®šä¹‰æ¨¡åž‹å‚æ•°",-1))]),t("div",At,[t("button",{class:w(["mode-btn",{active:V.value==="form"}]),onClick:p[0]||(p[0]=S=>V.value="form"),title:"è¡¨å•æ¨¡å¼"},[r(u(d),{icon:"lucide:list"}),p[5]||(p[5]=t("span",null,"è¡¨å•",-1))],2),t("button",{class:w(["mode-btn",{active:V.value==="json"}]),onClick:p[1]||(p[1]=S=>V.value="json"),title:"JSONæ¨¡å¼"},[r(u(d),{icon:"lucide:code"}),p[6]||(p[6]=t("span",null,"JSON",-1))],2)])]),V.value==="form"?(n(),a("div",It,[P.value.length===0?(n(),a("div",Mt,[r(u(d),{icon:"lucide:inbox"}),p[7]||(p[7]=t("span",null,"æš‚æ— å‚æ•°ï¼Œç‚¹å‡»ä¸‹æ–¹æ·»åŠ ",-1))])):(n(),a("div",xt,[(n(!0),a(Q,null,te(P.value,(S,x)=>(n(),a("div",{key:x,class:"form-entry"},[T(t("input",{"onUpdate:modelValue":c=>S.key=c,type:"text",class:"entry-input key-input",placeholder:"å‚æ•°å",onInput:H},null,40,St),[[R,S.key]]),T(t("input",{"onUpdate:modelValue":c=>S.value=c,type:"text",class:"entry-input value-input",placeholder:"å€¼ (æ”¯æŒ true/false/æ•°å­—/å­—ç¬¦ä¸²)",onInput:H},null,40,Pt),[[R,S.value]]),t("button",{class:"remove-btn",onClick:c=>re(x),title:"åˆ é™¤"},[r(u(d),{icon:"lucide:x"})],8,Vt)]))),128))])),t("button",{class:"add-btn",onClick:le},[r(u(d),{icon:"lucide:plus"}),p[8]||(p[8]=t("span",null,"æ·»åŠ å‚æ•°",-1))]),L.value?(n(),a("div",Et,[r(u(d),{icon:"lucide:alert-circle"}),t("span",null,f(L.value),1)])):m("",!0)])):m("",!0),V.value==="json"?(n(),a("div",Tt,[t("div",Ot,[T(t("textarea",{"onUpdate:modelValue":p[2]||(p[2]=S=>D.value=S),class:w(["json-editor",{error:O.value}]),placeholder:`ä¾‹å¦‚: {
  "enable_thinking": false,
  "thinking_budget": 256,
  "custom_param": "value"
}`,rows:"8",spellcheck:"false",onInput:X,onBlur:K},null,34),[[R,D.value]]),O.value?(n(),a("div",Dt,[r(u(d),{icon:"lucide:alert-circle"}),t("span",null,f(O.value),1)])):m("",!0)]),t("div",Ut,[r(u(d),{icon:"lucide:info"}),p[9]||(p[9]=t("div",{class:"tips-content"},[t("strong",null,"æç¤ºï¼š"),t("ul",null,[t("li",null,"å¿…é¡»æ˜¯æœ‰æ•ˆçš„ JSON å¯¹è±¡æ ¼å¼"),t("li",null,"æ”¯æŒå­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”å€¼ (true/false)"),t("li",null,"å‚æ•°åå’Œå­—ç¬¦ä¸²å€¼éœ€ä½¿ç”¨åŒå¼•å·")])],-1))])])):m("",!0)]))}}),Ne=Oe(Bt,[["__scopeId","data-v-56380d1e"]]),Lt={class:"model-config-editor"},jt={class:"nav-header"},Ft={class:"nav-tabs"},Wt=["onClick"],zt={key:0,class:"tab-badge"},Rt={class:"nav-actions"},Gt={key:0,class:"search-box"},Nt=["title"],Jt={class:"tab-panel"},qt={key:0,class:"empty-state"},Kt={class:"empty-icon"},Qt={key:1,class:"provider-list"},Ht=["onClick"],Xt={class:"provider-icon"},Yt={class:"provider-main"},Zt={class:"provider-name"},el={class:"provider-meta"},tl={class:"meta-tag"},ll={class:"meta-tag"},sl={class:"provider-actions-row"},nl=["onClick"],ol={key:0,class:"provider-detail"},al={class:"detail-grid"},il={class:"form-group"},rl=["value","onInput"],ul={class:"form-group"},dl=["onClick"],cl=["onClick"],vl=["onClick"],pl=["onClick"],ml={key:0,class:"form-group full-width"},_l=["value","onInput"],fl={class:"form-group full-width"},yl={class:"label-row",style:{display:"flex","justify-content":"space-between","align-items":"center"}},kl={class:"form-group full-width"},gl=["value","onInput"],bl={class:"form-group"},wl=["onClick"],Cl=["onClick"],hl=["onClick"],$l=["onClick"],Al=["onClick"],Il=["onClick"],Ml=["onClick"],xl={class:"form-group"},Sl={class:"number-input-wrapper"},Pl=["onClick","disabled"],Vl=["value","onInput"],El=["onClick","disabled"],Tl={class:"form-group"},Ol={class:"number-input-wrapper"},Dl=["onClick","disabled"],Ul=["value","onInput"],Bl=["onClick","disabled"],Ll={class:"form-group"},jl={class:"number-input-wrapper"},Fl=["onClick","disabled"],Wl=["value","onInput"],zl=["onClick","disabled"],Rl={class:"tab-panel"},Gl={key:0,class:"empty-state"},Nl={class:"empty-icon"},Jl={key:1,class:"model-list"},ql=["onClick"],Kl={class:"model-icon"},Ql={class:"model-main"},Hl={class:"model-name"},Xl={class:"model-meta"},Yl={class:"meta-tag provider"},Zl={key:0,class:"meta-tag price"},es={key:1,class:"meta-tag feature"},ts={key:2,class:"meta-tag feature"},ls={class:"model-actions-row"},ss=["onClick"],ns={key:0,class:"model-detail"},os={class:"detail-grid"},as={class:"form-group"},is=["value","onInput"],rs={class:"form-group"},us=["value","onInput"],ds={class:"form-group"},cs=["onClick"],vs=["onClick"],ps=["onClick"],ms={class:"form-group half"},_s=["value","onInput"],fs={class:"form-group half"},ys=["value","onInput"],ks={class:"model-test-section"},gs=["onClick","disabled","title"],bs={key:0,class:"test-result"},ws={key:0,class:"test-success"},Cs={key:0,class:"response-preview"},hs={key:1,class:"test-error"},$s={class:"advanced-section"},As=["onClick"],Is={key:0,class:"advanced-content"},Ms={class:"toggle-group"},xs=["onClick"],Ss={class:"toggle-info"},Ps=["checked","onChange"],Vs=["onClick"],Es={class:"toggle-info"},Ts=["checked","onChange"],Os=["onClick"],Ds={class:"toggle-info"},Us=["checked","onChange"],Bs={key:0,class:"perturbation-options"},Ls={class:"form-group"},js=["onClick"],Fs=["onClick"],Ws=["onClick"],zs=["onClick"],Rs={class:"toggle-item compact"},Gs=["checked","onChange"],Ns={class:"tab-panel"},Js={class:"task-categories"},qs=["onClick"],Ks={class:"task-list"},Qs={class:"task-header"},Hs={class:"task-info"},Xs={class:"task-name"},Ys={class:"task-desc"},Zs={class:"task-controls"},en={class:"control-row"},tn={class:"control-group model-select"},ln=["onClick"],sn={key:0,class:"placeholder"},nn={key:1,class:"selected-tags"},on=["onClick"],an={class:"control-group small"},rn=["value","onInput"],un={class:"control-group small"},dn=["value","onInput"],cn={class:"control-group tiny"},vn=["value","onInput"],pn={class:"modal-content"},mn={class:"modal-header"},_n={class:"modal-body"},fn={class:"config-field"},yn={key:1,class:"preset-hint"},kn=["onClick"],gn={class:"option-content"},bn={class:"option-name"},wn={class:"option-desc"},Cn={key:0,class:"no-results"},hn={class:"manual-config"},$n={class:"config-field"},An={key:0,class:"config-field"},In={key:0,class:"field-lock"},Mn=["disabled"],xn={class:"config-field"},Sn={class:"config-field"},Pn={key:0,class:"field-lock"},Vn={class:"config-field"},En={class:"config-field"},Tn={class:"advanced-settings-section"},On={key:0,class:"advanced-fields"},Dn={class:"config-field-row"},Un={class:"config-field half"},Bn={class:"number-input-wrapper"},Ln=["disabled"],jn=["disabled"],Fn={class:"config-field half"},Wn={class:"number-input-wrapper"},zn=["disabled"],Rn=["disabled"],Gn={class:"config-field-row"},Nn={class:"config-field half"},Jn={class:"number-input-wrapper"},qn=["disabled"],Kn=["disabled"],Qn={class:"modal-footer"},Hn=["disabled"],Xn={class:"modal-content"},Yn={class:"modal-header"},Zn={class:"modal-body"},eo={class:"config-field"},to={style:{display:"flex",gap:"8px"}},lo={class:"config-field"},so={class:"config-field"},no=["onClick"],oo={key:0,class:"models-section"},ao={key:0,class:"loading-models"},io={key:1,class:"fetch-error"},ro={key:2,class:"available-models"},uo={class:"models-header"},co={class:"model-search-box"},vo={class:"models-list"},po=["onClick"],mo={class:"model-info"},_o={class:"model-id"},fo={key:0,class:"model-name"},yo={key:0,class:"no-models-found"},ko={class:"config-field-row"},go={class:"config-field"},bo={class:"config-field"},wo={class:"advanced-params-section"},Co={class:"advanced-header-left"},ho={class:"advanced-hint"},$o={class:"advanced-params-content"},Ao={class:"config-field"},Io={class:"config-field"},Mo={class:"slider-with-input"},xo=["value"],So={class:"feature-toggles"},Po={class:"feature-toggle-info"},Vo={class:"feature-toggle-info"},Eo={key:0,class:"perturbation-sub-options"},To={class:"config-field"},Oo={class:"modal-footer"},Do=["disabled"],Uo=Ee({__name:"ModelConfigEditor",props:{parsedData:{},editedValues:{},tasksSchema:{}},emits:["update"],setup($,{emit:B}){const ne=[{name:"DeepSeek",icon:"lucide:brain-circuit",base_url:"https://api.deepseek.com/v1",client_type:"openai",description:"DeepSeek å®˜æ–¹ API"},{name:"OpenAI",icon:"simple-icons:openai",base_url:"https://api.openai.com/v1",client_type:"openai",description:"OpenAI å®˜æ–¹ API"},{name:"SiliconFlow",icon:"lucide:cpu",base_url:"https://api.siliconflow.cn/v1",client_type:"openai",description:"ç¡…åŸºæµåŠ¨ï¼Œæ”¯æŒå¤šç§æ¨¡åž‹"},{name:"Google Gemini",icon:"simple-icons:google",base_url:"https://generativelanguage.googleapis.com/v1beta",client_type:"aiohttp_gemini",description:"Google Gemini APIï¼ˆéœ€è¦ç‰¹æ®Šå®¢æˆ·ç«¯ï¼‰"},{name:"é€šä¹‰åƒé—®",icon:"lucide:brain",base_url:"https://dashscope.aliyuncs.com/api/v1",client_type:"openai",description:"é˜¿é‡Œäº‘é€šä¹‰åƒé—®"},{name:"Claude",icon:"simple-icons:anthropic",base_url:"https://api.anthropic.com",client_type:"openai",description:"Anthropic Claude API"},{name:"AWS Bedrock",icon:"simple-icons:amazonaws",base_url:"",client_type:"bedrock",description:"AWS Bedrockï¼ˆæ”¯æŒ Claudeã€Titan ç­‰æ¨¡åž‹ï¼‰"},{name:"è‡ªå®šä¹‰",icon:"lucide:settings",base_url:"",client_type:"openai",description:"è‡ªå®šä¹‰ OpenAI å…¼å®¹ API"}],A=$,V=B,P=y("providers"),L=y(""),D=y(0),O=y(null),oe=y("core"),le=ce(()=>[{key:"providers",name:"æä¾›å•†",icon:"lucide:cloud",count:N.value.length},{key:"models",name:"æ¨¡åž‹",icon:"lucide:cpu",count:F.value.length},{key:"tasks",name:"ä»»åŠ¡é…ç½®",icon:"lucide:list-checks",count:void 0}]),re=[{key:"core",name:"æ ¸å¿ƒåŠŸèƒ½",icon:"lucide:star"},{key:"media",name:"å¤šåª’ä½“",icon:"lucide:image"},{key:"memory",name:"è®°å¿†ç³»ç»Ÿ",icon:"lucide:brain"},{key:"other",name:"å…¶ä»–",icon:"lucide:more-horizontal"}],ue=y({}),H=y(!1),X=y(!1),K=y(!1),i=y(null),p=y({});function S(o){const e=o.getBoundingClientRect();p.value={top:`${e.bottom}px`,left:`${e.left}px`,width:`${e.width}px`,position:"fixed",zIndex:"9999",marginTop:"4px"}}function x(o,e){i.value===o?i.value=null:(e&&S(e.currentTarget),i.value=o)}const c=y({name:"",base_url:"",api_key:[],client_type:"openai",max_retry:2,timeout:30,retry_interval:10,aws_secret_key:"",aws_region:"us-east-1"}),Y=y(null),me=y(""),ke=y(!1),ee=ce(()=>Y.value!==null&&Y.value.name!=="è‡ªå®šä¹‰"),Ie=ce(()=>{if(!me.value)return ne;const o=me.value.toLowerCase();return ne.filter(e=>e.name.toLowerCase().includes(o)||e.description.toLowerCase().includes(o))}),v=y({model_identifier:"",name:"",api_provider:"",price_in:0,price_out:0,max_tokens:void 0,temperature:void 0,anti_truncation:!1,enable_prompt_perturbation:!1,perturbation_strength:"light",enable_semantic_variants:!1,extra_params:{}}),$e=y(""),_e=y("");y({});const N=ce(()=>{if(A.editedValues&&"api_providers"in A.editedValues)return A.editedValues.api_providers;const o=A.parsedData;return Array.isArray(o.api_providers)?o.api_providers:[]}),F=ce(()=>{if(A.editedValues&&"models"in A.editedValues)return A.editedValues.models;const o=A.parsedData;return Array.isArray(o.models)?o.models:[]}),k=ce(()=>{if(!L.value)return F.value;const o=L.value.toLowerCase();return F.value.filter(e=>{var l,s,b;return((l=e.name)==null?void 0:l.toLowerCase().includes(o))||((s=e.model_identifier)==null?void 0:s.toLowerCase().includes(o))||((b=e.api_provider)==null?void 0:b.toLowerCase().includes(o))})}),_=ce(()=>(A.tasksSchema??[]).filter(e=>e.category===oe.value));function E(o){ue.value[o]=!ue.value[o]}function ae(o){const e={openai:"simple-icons:openai",claude:"simple-icons:anthropic",anthropic:"simple-icons:anthropic",gemini:"simple-icons:google",google:"simple-icons:google",qwen:"lucide:brain",é€šä¹‰:"lucide:brain",deepseek:"lucide:brain-circuit",siliconflow:"lucide:cpu",ç¡…åŸº:"lucide:cpu",aws:"simple-icons:amazonaws",bedrock:"simple-icons:amazonaws",amazon:"simple-icons:amazonaws"},l=o.toLowerCase();for(const[s,b]of Object.entries(e))if(l.includes(s))return b;return"lucide:cloud"}function ve(o){return{openai:"OpenAI å…¼å®¹",aiohttp_gemini:"Geminiï¼ˆGoogleï¼‰",bedrock:"AWS Bedrock"}[o||"openai"]||"OpenAI å…¼å®¹"}function Ce(o){return o?F.value.filter(e=>e.api_provider===o).length:0}function j(o,e,l){const s={...N.value[o],[e]:l},b=[...N.value];b[o]=s,V("update","api_providers",b)}function ge(o,e,l){const s=N.value[o];if(!s)return;const z={...s.extra_params||{},[e]:l};l===""&&delete z[e];const g={...s,extra_params:z},Z=[...N.value];Z[o]=g,V("update","api_providers",Z)}function G(o,e,l){const s={...F.value[o],[e]:l},b=[...F.value];b[o]=s,V("update","models",b)}function et(){const o=$e.value.trim();if(!o){v.value.extra_params={},_e.value="";return}try{const e=JSON.parse(o);if(typeof e!="object"||e===null||Array.isArray(e)){_e.value="extra_params å¿…é¡»æ˜¯ä¸€ä¸ªå¯¹è±¡";return}v.value.extra_params=e,_e.value=""}catch(e){_e.value=`JSON è§£æžé”™è¯¯: ${e.message}`}}function tt(o){Y.value=o,c.value={name:o.name==="è‡ªå®šä¹‰"?"":o.name,base_url:o.base_url,api_key:[],client_type:o.client_type,max_retry:c.value.max_retry??2,timeout:o.client_type==="bedrock"?60:c.value.timeout??30,retry_interval:c.value.retry_interval??10,aws_secret_key:"",aws_region:"us-east-1"},me.value=""}function lt(){const o=c.value.client_type==="bedrock";if(!c.value.name||!o&&!c.value.base_url)return;const e={name:c.value.name,base_url:c.value.base_url,api_key:c.value.api_key,client_type:c.value.client_type,max_retry:c.value.max_retry??2,timeout:c.value.timeout??30,retry_interval:c.value.retry_interval??10};if(o){const s={region:c.value.aws_region||"us-east-1"};c.value.aws_secret_key&&(s.aws_secret_key=c.value.aws_secret_key),e.extra_params=s}const l=[...N.value,e];V("update","api_providers",l),H.value=!1,c.value={name:"",base_url:"",api_key:[],client_type:"openai",max_retry:2,timeout:30,retry_interval:10,aws_secret_key:"",aws_region:"us-east-1"},Y.value=null,me.value="",ke.value=!1,D.value=l.length-1}function st(o){if(!confirm("ç¡®å®šè¦åˆ é™¤æ­¤æä¾›å•†å—ï¼Ÿ"))return;const e=N.value.filter((l,s)=>s!==o);V("update","api_providers",e),D.value===o&&(D.value=null)}function nt(){if(!v.value.model_identifier||!v.value.name||$e.value.trim()&&(et(),_e.value))return;const o={model_identifier:v.value.model_identifier,name:v.value.name,api_provider:v.value.api_provider,price_in:v.value.price_in,price_out:v.value.price_out},e={...v.value.extra_params||{}};v.value.max_tokens!==void 0&&v.value.max_tokens>0&&(e.max_tokens=v.value.max_tokens),v.value.temperature!==void 0&&v.value.temperature>=0&&(e.temperature=v.value.temperature),Object.keys(e).length>0&&(o.extra_params=e),v.value.anti_truncation&&(o.anti_truncation=!0),v.value.enable_prompt_perturbation&&(o.enable_prompt_perturbation=!0),v.value.perturbation_strength&&v.value.perturbation_strength!=="light"&&(o.perturbation_strength=v.value.perturbation_strength),v.value.enable_semantic_variants&&(o.enable_semantic_variants=!0);const l=[...F.value,o];V("update","models",l),X.value=!1,K.value=!1,se.value=[],ie.value=null,we.value="",v.value={model_identifier:"",name:"",api_provider:"",price_in:0,price_out:0,max_tokens:void 0,temperature:void 0,anti_truncation:!1,enable_prompt_perturbation:!1,perturbation_strength:"light",enable_semantic_variants:!1,extra_params:{}},$e.value="",_e.value="",O.value=l.length-1}function ot(o){if(!confirm("ç¡®å®šè¦åˆ é™¤æ­¤æ¨¡åž‹å—ï¼Ÿ"))return;const e=F.value.filter((l,s)=>s!==o);V("update","models",e),O.value===o&&(O.value=null)}function Ae(o){const e=`model_task_config.${o}.model_list`;if(A.editedValues&&e in A.editedValues)return A.editedValues[e];const s=A.parsedData.model_task_config;return!s||!s[o]?[]:s[o].model_list||[]}function at(o,e){V("update",`model_task_config.${o}.model_list`,e)}const pe=y(null);function it(o,e){pe.value===o?pe.value=null:(e&&S(e.currentTarget),pe.value=o)}function rt(o,e){const l=Ae(o),s=l.indexOf(e);let b;s>=0?b=l.filter(z=>z!==e):b=[...l,e],at(o,b)}function ut(o){const e=`model_task_config.${o}.temperature`;if(A.editedValues&&e in A.editedValues)return A.editedValues[e];const s=A.parsedData.model_task_config;if(!(!s||!s[o]))return s[o].temperature}function dt(o,e){isNaN(e)||V("update",`model_task_config.${o}.temperature`,e)}function ct(o){const e=`model_task_config.${o}.max_tokens`;if(A.editedValues&&e in A.editedValues)return A.editedValues[e];const s=A.parsedData.model_task_config;if(!(!s||!s[o]))return s[o].max_tokens}function vt(o,e){isNaN(e)||e<1||V("update",`model_task_config.${o}.max_tokens`,e)}function pt(o){const e=`model_task_config.${o}.concurrency_count`;if(A.editedValues&&e in A.editedValues)return A.editedValues[e]??1;const s=A.parsedData.model_task_config;return!s||!s[o]?1:s[o].concurrency_count??1}function mt(o,e){e<1&&(e=1),e>100&&(e=100),V("update",`model_task_config.${o}.concurrency_count`,e)}const be=y({}),W=y({}),Me=y(!1),se=y([]),ie=y(null),we=y("");async function _t(o){if(console.log("ðŸ§ª æµ‹è¯•æ¨¡åž‹è¿žé€šæ€§:",o),!o){console.warn("âš ï¸ æ¨¡åž‹åç§°ä¸ºç©º");return}const{testModelConnection:e}=await ze(async()=>{const{testModelConnection:l}=await Promise.resolve().then(()=>Ge);return{testModelConnection:l}},void 0);be.value[o]=!0,delete W.value[o],console.log("ðŸ“¡ å¼€å§‹æµ‹è¯•æ¨¡åž‹:",o);try{const l=await e(o);console.log("âœ… æµ‹è¯•å“åº”:",l),l.success&&l.data?W.value[o]={connected:l.data.connected,response_time:l.data.response_time,response_text:l.data.response_text,error:l.data.error}:W.value[o]={connected:!1,error:l.error||"æµ‹è¯•å¤±è´¥"}}catch(l){console.error("âŒ æµ‹è¯•å‡ºé”™:",l),W.value[o]={connected:!1,error:l.message||"ç½‘ç»œé”™è¯¯"}}finally{be.value[o]=!1,console.log("ðŸ æµ‹è¯•å®Œæˆ:",o,W.value[o])}}function ft(o){var e,l;return o?be.value[o]?"æµ‹è¯•ä¸­...":((e=W.value[o])==null?void 0:e.connected)===!0?"è¿žæŽ¥æˆåŠŸï¼Œç‚¹å‡»é‡æ–°æµ‹è¯•":((l=W.value[o])==null?void 0:l.connected)===!1?"è¿žæŽ¥å¤±è´¥ï¼Œç‚¹å‡»é‡è¯•":"æµ‹è¯•æ¨¡åž‹è¿žé€šæ€§":"è¯·å…ˆé…ç½®æ¨¡åž‹åç§°"}function yt(o){return be.value[o]?"æµ‹è¯•ä¸­":W.value[o]?"é‡æ–°æµ‹è¯•":"æµ‹è¯•è¿žæŽ¥"}const De=ce(()=>{if(!we.value)return se.value;const o=we.value.toLowerCase();return se.value.filter(e=>e.id.toLowerCase().includes(o)||e.name.toLowerCase().includes(o))});async function xe(){let o=null;if(X.value&&v.value.api_provider)o=v.value.api_provider;else if(D.value!==null){const s=N.value[D.value];o=(s==null?void 0:s.name)||null}if(!o){const s="è¯·å…ˆé€‰æ‹©ä¸€ä¸ªæä¾›å•†";console.error("âŒ",s),ie.value=s;return}const e=N.value.find(s=>s.name===o);if(!e||!e.name||!e.base_url){const s="æä¾›å•†é…ç½®ä¸å®Œæ•´ï¼ˆéœ€è¦åç§°å’Œåœ°å€ï¼‰";ie.value=s;return}let l="";if(Array.isArray(e.api_key)?l=e.api_key[0]||"":l=String(e.api_key||""),!l&&e.client_type!=="ollama"){const s="è¯·å…ˆé…ç½®APIå¯†é’¥";console.warn("âš ï¸",s),ie.value=s;return}Me.value=!0,ie.value=null,se.value=[];try{const{getAvailableModels:s}=await ze(async()=>{const{getAvailableModels:g}=await Promise.resolve().then(()=>Ge);return{getAvailableModels:g}},void 0),b={provider_name:e.name,base_url:e.base_url,api_key:l,client_type:e.client_type||"openai"};console.log("ðŸ“¤ å‘é€è¯·æ±‚å‚æ•°:",b);const z=await s(b);if(console.log("ðŸ“¥ æ”¶åˆ°å“åº”:",z),z.success&&z.data){const g=z.data;if(g.success&&g.models){if(se.value=g.models.map(Z=>({id:Z.id,name:Z.name||Z.id})),console.log(`âœ… æˆåŠŸèŽ·å– ${se.value.length} ä¸ªæ¨¡åž‹:`,se.value.slice(0,5)),X.value&&se.value.length>0&&!v.value.model_identifier){const Z=se.value[0];Z&&(v.value.model_identifier=Z.id,v.value.name=Z.name,console.log("âœ¨ è‡ªåŠ¨å¡«å……ç¬¬ä¸€ä¸ªæ¨¡åž‹:",Z))}}else ie.value=g.error||"èŽ·å–æ¨¡åž‹åˆ—è¡¨å¤±è´¥",console.error("âŒ èŽ·å–æ¨¡åž‹åˆ—è¡¨å¤±è´¥:",g.error)}else ie.value=z.error||"èŽ·å–æ¨¡åž‹åˆ—è¡¨å¤±è´¥",console.error("âŒ èŽ·å–æ¨¡åž‹åˆ—è¡¨å¤±è´¥:",z.error)}catch(s){ie.value=`è¯·æ±‚å¤±è´¥: ${s.message||String(s)}`,console.error("âŒ èŽ·å–æ¨¡åž‹åˆ—è¡¨å¼‚å¸¸:",s)}finally{Me.value=!1,console.log("ðŸ èŽ·å–æ¨¡åž‹åˆ—è¡¨å®Œæˆ")}}function Se(o){var e,l,s;if(o&&o.target){const b=o.target;if((e=b.classList)!=null&&e.contains("options-list")||(l=b.closest)!=null&&l.call(b,".options-list")||(s=b.closest)!=null&&s.call(b,".select-options"))return}i.value=null,pe.value=null}return Je(()=>{window.addEventListener("resize",Se),window.addEventListener("scroll",Se,!0)}),kt(()=>{window.removeEventListener("resize",Se),window.removeEventListener("scroll",Se,!0)}),Te(()=>A.parsedData,()=>{N.value.length>0&&D.value===null&&(D.value=0)},{immediate:!0}),(o,e)=>(n(),a("div",Lt,[t("div",jt,[t("div",Ft,[(n(!0),a(Q,null,te(le.value,l=>(n(),a("button",{key:l.key,class:w(["nav-tab",{active:P.value===l.key}]),onClick:s=>P.value=l.key},[r(u(d),{icon:l.icon},null,8,["icon"]),t("span",null,f(l.name),1),l.count!==void 0?(n(),a("span",zt,f(l.count),1)):m("",!0)],10,Wt))),128))]),t("div",Rt,[P.value==="models"?(n(),a("div",Gt,[r(u(d),{icon:"lucide:search"}),T(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=l=>L.value=l),placeholder:"æœç´¢...",class:"search-input"},null,512),[[R,L.value]]),L.value?(n(),a("button",{key:0,class:"clear-search",onClick:e[1]||(e[1]=l=>L.value="")},[r(u(d),{icon:"lucide:x"})])):m("",!0)])):m("",!0),P.value==="models"||P.value==="providers"?(n(),a("button",{key:1,class:"add-btn",onClick:e[2]||(e[2]=l=>P.value==="providers"?H.value=!0:X.value=!0),title:P.value==="providers"?"æ·»åŠ æä¾›å•†":"æ·»åŠ æ¨¡åž‹"},[r(u(d),{icon:"lucide:plus"}),t("span",null,f(P.value==="providers"?"æ·»åŠ æä¾›å•†":P.value==="models"?"æ·»åŠ æ¨¡åž‹":""),1)],8,Nt)):m("",!0)])]),T(t("div",Jt,[N.value.length===0?(n(),a("div",qt,[t("div",Kt,[r(u(d),{icon:"lucide:cloud-off"})]),e[85]||(e[85]=t("h3",null,"æš‚æ— é…ç½®çš„æä¾›å•†",-1)),e[86]||(e[86]=t("p",null,"æ·»åŠ ä¸€ä¸ª API æä¾›å•†ä»¥å¼€å§‹ä½¿ç”¨ AI æ¨¡åž‹",-1)),t("button",{class:"btn btn-primary",onClick:e[3]||(e[3]=l=>H.value=!0)},[r(u(d),{icon:"lucide:plus"}),e[84]||(e[84]=M(" æ·»åŠ ç¬¬ä¸€ä¸ªæä¾›å•† ",-1))])])):(n(),a("div",Qt,[(n(!0),a(Q,null,te(N.value,(l,s)=>(n(),a("div",{key:s,class:w(["provider-item",{active:D.value===s}])},[t("div",{class:"provider-row",onClick:b=>D.value=D.value===s?null:s},[t("div",Xt,[r(u(d),{icon:ae(l.name||"")},null,8,["icon"])]),t("div",Yt,[t("div",Zt,f(l.name||"æœªå‘½åæä¾›å•†"),1),t("div",el,[t("span",tl,f(ve(l.client_type)),1),t("span",ll,f(Ce(l.name))+" ä¸ªæ¨¡åž‹",1)])]),t("div",sl,[t("button",{class:"icon-btn",onClick:C(b=>st(s),["stop"]),title:"åˆ é™¤"},[r(u(d),{icon:"lucide:trash-2"})],8,nl),r(u(d),{icon:D.value===s?"lucide:chevron-up":"lucide:chevron-down",class:"expand-icon"},null,8,["icon"])])],8,Ht),r(q,{name:"slide"},{default:J(()=>{var b,z;return[D.value===s?(n(),a("div",ol,[t("div",al,[t("div",il,[e[87]||(e[87]=t("label",null,"æä¾›å•†åç§°",-1)),t("input",{type:"text",class:"form-input",value:l.name,onInput:g=>j(s,"name",g.target.value),placeholder:"ä¾‹å¦‚: DeepSeek"},null,40,rl)]),t("div",ul,[e[91]||(e[91]=t("label",null,"å®¢æˆ·ç«¯ç±»åž‹",-1)),t("div",{class:w(["custom-select",{open:i.value===`provider-client-${s}`}])},[t("div",{class:"select-trigger",onClick:C(g=>x(`provider-client-${s}`,g),["stop"])},[t("span",null,f(ve(l.client_type)),1),r(u(d),{icon:"lucide:chevron-down",class:w(["chevron",{rotated:i.value===`provider-client-${s}`}])},null,8,["class"])],8,dl),(n(),I(U,{to:"body"},[r(q,{name:"dropdown-fade"},{default:J(()=>[i.value===`provider-client-${s}`?(n(),a("div",{key:0,class:"select-options",style:de(p.value)},[t("div",{class:"select-option",onClick:g=>{j(s,"client_type","openai"),i.value=null}},[...e[88]||(e[88]=[t("span",null,"OpenAI å…¼å®¹",-1)])],8,cl),t("div",{class:"select-option",onClick:g=>{j(s,"client_type","aiohttp_gemini"),i.value=null}},[...e[89]||(e[89]=[t("span",null,"Geminiï¼ˆGoogleï¼‰",-1)])],8,vl),t("div",{class:"select-option",onClick:g=>{j(s,"client_type","bedrock"),i.value=null}},[...e[90]||(e[90]=[t("span",null,"AWS Bedrock",-1)])],8,pl)],4)):m("",!0)]),_:2},1024)])),(n(),I(U,{to:"body"},[i.value===`provider-client-${s}`?(n(),a("div",{key:0,class:"dropdown-overlay",onClick:e[4]||(e[4]=C(g=>i.value=null,["stop"]))})):m("",!0)]))],2)]),l.client_type!=="bedrock"?(n(),a("div",ml,[e[92]||(e[92]=t("label",null,"API åœ°å€",-1)),t("input",{type:"text",class:"form-input",value:l.base_url,onInput:g=>j(s,"base_url",g.target.value),placeholder:"https://api.example.com/v1"},null,40,_l)])):m("",!0),t("div",fl,[t("div",yl,[t("label",null,f(l.client_type==="bedrock"?"AWS Access Key ID":"API å¯†é’¥"),1)]),r(u(Re),{value:Array.isArray(l.api_key)?l.api_key:l.api_key?[String(l.api_key)]:[],onUpdate:g=>j(s,"api_key",g),placeholder:"è¾“å…¥ API å¯†é’¥","add-button-text":"æ·»åŠ å¤‡ç”¨å¯†é’¥","empty-text":"è¯·æ·»åŠ è‡³å°‘ä¸€ä¸ª API å¯†é’¥","is-secret":!0},null,8,["value","onUpdate"]),e[93]||(e[93]=t("p",{class:"field-hint",style:{"margin-top":"4px","font-size":"12px",color:"var(--text-tertiary)"}}," æ”¯æŒé…ç½®å¤šä¸ª API å¯†é’¥ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨è½®è¯¢ä½¿ç”¨ ",-1))]),l.client_type==="bedrock"?(n(),a(Q,{key:1},[t("div",kl,[e[94]||(e[94]=t("label",null,"AWS Secret Key",-1)),t("input",{type:"password",class:"form-input",value:((b=l.extra_params)==null?void 0:b.aws_secret_key)??"",onInput:g=>ge(s,"aws_secret_key",g.target.value),placeholder:"ä½ çš„ AWS Secret Access Keyï¼ˆIAM è§’è‰²æ¨¡å¼å¯ç•™ç©ºï¼‰"},null,40,gl),e[95]||(e[95]=t("p",{class:"field-hint",style:{"margin-top":"4px","font-size":"12px",color:"var(--text-tertiary)"}}," IAM è§’è‰²æ¨¡å¼ä¸‹æ— éœ€é…ç½®ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨ä½¿ç”¨çŽ¯å¢ƒå˜é‡è®¤è¯ ",-1))]),t("div",bl,[e[102]||(e[102]=t("label",null,"AWS åŒºåŸŸ",-1)),t("div",{class:w(["custom-select",{open:i.value===`provider-region-${s}`}])},[t("div",{class:"select-trigger",onClick:C(g=>x(`provider-region-${s}`,g),["stop"])},[t("span",null,f(((z=l.extra_params)==null?void 0:z.region)??"us-east-1"),1),r(u(d),{icon:"lucide:chevron-down",class:w(["chevron",{rotated:i.value===`provider-region-${s}`}])},null,8,["class"])],8,wl),(n(),I(U,{to:"body"},[r(q,{name:"dropdown-fade"},{default:J(()=>[i.value===`provider-region-${s}`?(n(),a("div",{key:0,class:"select-options",style:de(p.value)},[t("div",{class:"select-option",onClick:g=>{ge(s,"region","us-east-1"),i.value=null}},[...e[96]||(e[96]=[t("span",null,"us-east-1 (å¼—å‰å°¼äºšåŒ—éƒ¨)",-1)])],8,Cl),t("div",{class:"select-option",onClick:g=>{ge(s,"region","us-west-2"),i.value=null}},[...e[97]||(e[97]=[t("span",null,"us-west-2 (ä¿„å‹’å†ˆ)",-1)])],8,hl),t("div",{class:"select-option",onClick:g=>{ge(s,"region","eu-central-1"),i.value=null}},[...e[98]||(e[98]=[t("span",null,"eu-central-1 (æ³•å…°å…‹ç¦)",-1)])],8,$l),t("div",{class:"select-option",onClick:g=>{ge(s,"region","eu-west-1"),i.value=null}},[...e[99]||(e[99]=[t("span",null,"eu-west-1 (çˆ±å°”å…°)",-1)])],8,Al),t("div",{class:"select-option",onClick:g=>{ge(s,"region","ap-southeast-1"),i.value=null}},[...e[100]||(e[100]=[t("span",null,"ap-southeast-1 (æ–°åŠ å¡)",-1)])],8,Il),t("div",{class:"select-option",onClick:g=>{ge(s,"region","ap-northeast-1"),i.value=null}},[...e[101]||(e[101]=[t("span",null,"ap-northeast-1 (ä¸œäº¬)",-1)])],8,Ml)],4)):m("",!0)]),_:2},1024)])),(n(),I(U,{to:"body"},[i.value===`provider-region-${s}`?(n(),a("div",{key:0,class:"dropdown-overlay",onClick:e[5]||(e[5]=C(g=>i.value=null,["stop"]))})):m("",!0)]))],2)])],64)):m("",!0),t("div",xl,[e[103]||(e[103]=t("label",null,"æœ€å¤§é‡è¯•",-1)),t("div",Sl,[t("button",{class:"number-btn",onClick:g=>j(s,"max_retry",(l.max_retry??2)-1),disabled:(l.max_retry??2)<=0},[r(u(d),{icon:"lucide:minus"})],8,Pl),t("input",{type:"number",class:"form-input number-center",value:l.max_retry??2,onInput:g=>j(s,"max_retry",parseInt(g.target.value)),min:"0",max:"10"},null,40,Vl),t("button",{class:"number-btn",onClick:g=>j(s,"max_retry",(l.max_retry??2)+1),disabled:(l.max_retry??2)>=10},[r(u(d),{icon:"lucide:plus"})],8,El)])]),t("div",Tl,[e[104]||(e[104]=t("label",null,"è¶…æ—¶(ç§’)",-1)),t("div",Ol,[t("button",{class:"number-btn",onClick:g=>j(s,"timeout",(l.timeout??30)-5),disabled:(l.timeout??30)<=5},[r(u(d),{icon:"lucide:minus"})],8,Dl),t("input",{type:"number",class:"form-input number-center",value:l.timeout??30,onInput:g=>j(s,"timeout",parseInt(g.target.value)),min:"5",max:"300",step:"5"},null,40,Ul),t("button",{class:"number-btn",onClick:g=>j(s,"timeout",(l.timeout??30)+5),disabled:(l.timeout??30)>=300},[r(u(d),{icon:"lucide:plus"})],8,Bl)])]),t("div",Ll,[e[105]||(e[105]=t("label",null,"é‡è¯•é—´éš”(ç§’)",-1)),t("div",jl,[t("button",{class:"number-btn",onClick:g=>j(s,"retry_interval",(l.retry_interval??10)-1),disabled:(l.retry_interval??10)<=1},[r(u(d),{icon:"lucide:minus"})],8,Fl),t("input",{type:"number",class:"form-input number-center",value:l.retry_interval??10,onInput:g=>j(s,"retry_interval",parseInt(g.target.value)),min:"1",max:"60"},null,40,Wl),t("button",{class:"number-btn",onClick:g=>j(s,"retry_interval",(l.retry_interval??10)+1),disabled:(l.retry_interval??10)>=60},[r(u(d),{icon:"lucide:plus"})],8,zl)])])])])):m("",!0)]}),_:2},1024)],2))),128))]))],512),[[Pe,P.value==="providers"]]),T(t("div",Rl,[F.value.length===0?(n(),a("div",Gl,[t("div",Nl,[r(u(d),{icon:"lucide:bot"})]),e[107]||(e[107]=t("h3",null,"æš‚æ— é…ç½®çš„æ¨¡åž‹",-1)),e[108]||(e[108]=t("p",null,"æ·»åŠ ä¸€ä¸ª AI æ¨¡åž‹ä»¥å¯ç”¨å„é¡¹åŠŸèƒ½",-1)),t("button",{class:"btn btn-primary",onClick:e[6]||(e[6]=l=>X.value=!0)},[r(u(d),{icon:"lucide:plus"}),e[106]||(e[106]=M(" æ·»åŠ ç¬¬ä¸€ä¸ªæ¨¡åž‹ ",-1))])])):(n(),a("div",Jl,[(n(!0),a(Q,null,te(k.value,(l,s)=>(n(),a("div",{key:s,class:w(["model-item",{active:O.value===s}])},[t("div",{class:"model-row",onClick:b=>O.value=O.value===s?null:s},[t("div",Kl,[r(u(d),{icon:ae(l.api_provider||"")},null,8,["icon"])]),t("div",Ql,[t("div",Hl,f(l.name||l.model_identifier||"æœªå‘½åæ¨¡åž‹"),1),t("div",Xl,[t("span",Yl,f(l.api_provider||"æœªæŒ‡å®š"),1),l.price_in||l.price_out?(n(),a("span",Zl," Â¥"+f(l.price_in??0)+"/"+f(l.price_out??0)+"/M ",1)):m("",!0),l.anti_truncation?(n(),a("span",es,"é˜²æˆªæ–­")):m("",!0),l.enable_prompt_perturbation?(n(),a("span",ts,"æ‰°åŠ¨")):m("",!0)])]),t("div",ls,[t("button",{class:"icon-btn",onClick:C(b=>ot(s),["stop"]),title:"åˆ é™¤"},[r(u(d),{icon:"lucide:trash-2"})],8,ss),r(u(d),{icon:O.value===s?"lucide:chevron-up":"lucide:chevron-down",class:"expand-icon"},null,8,["icon"])])],8,ql),r(q,{name:"slide"},{default:J(()=>{var b,z,g,Z,Ue,Be,Le,je,Fe,We;return[O.value===s?(n(),a("div",ns,[t("div",os,[t("div",as,[e[109]||(e[109]=t("label",null,"æ¨¡åž‹æ ‡è¯†ç¬¦",-1)),t("input",{type:"text",class:"form-input",value:l.model_identifier,onInput:h=>G(s,"model_identifier",h.target.value),placeholder:"deepseek-chat"},null,40,is)]),t("div",rs,[e[110]||(e[110]=t("label",null,"æ¨¡åž‹åç§°",-1)),t("input",{type:"text",class:"form-input",value:l.name,onInput:h=>G(s,"name",h.target.value),placeholder:"deepseek-v3"},null,40,us)]),t("div",ds,[e[112]||(e[112]=t("label",null,"API æä¾›å•†",-1)),t("div",{class:w(["custom-select",{open:i.value===`model-provider-${s}`}])},[t("div",{class:"select-trigger",onClick:C(h=>x(`model-provider-${s}`,h),["stop"])},[t("span",null,f(l.api_provider||"è¯·é€‰æ‹©"),1),r(u(d),{icon:"lucide:chevron-down",class:w(["chevron",{rotated:i.value===`model-provider-${s}`}])},null,8,["class"])],8,cs),(n(),I(U,{to:"body"},[r(q,{name:"dropdown-fade"},{default:J(()=>[i.value===`model-provider-${s}`?(n(),a("div",{key:0,class:"select-options",style:de(p.value)},[t("div",{class:"select-option",onClick:h=>{G(s,"api_provider",""),i.value=null}},[...e[111]||(e[111]=[t("span",null,"è¯·é€‰æ‹©",-1)])],8,vs),(n(!0),a(Q,null,te(N.value,h=>(n(),a("div",{key:h.name,class:"select-option",onClick:ua=>{G(s,"api_provider",h.name),i.value=null}},[t("span",null,f(h.name),1)],8,ps))),128))],4)):m("",!0)]),_:2},1024)])),(n(),I(U,{to:"body"},[i.value===`model-provider-${s}`?(n(),a("div",{key:0,class:"dropdown-overlay",onClick:e[7]||(e[7]=C(h=>i.value=null,["stop"]))})):m("",!0)]))],2)]),t("div",ms,[e[113]||(e[113]=t("label",null,"è¾“å…¥ä»·æ ¼(å…ƒ/M)",-1)),t("input",{type:"number",class:"form-input",value:l.price_in??0,onInput:h=>G(s,"price_in",parseFloat(h.target.value)),step:"0.1",min:"0"},null,40,_s)]),t("div",fs,[e[114]||(e[114]=t("label",null,"è¾“å‡ºä»·æ ¼(å…ƒ/M)",-1)),t("input",{type:"number",class:"form-input",value:l.price_out??0,onInput:h=>G(s,"price_out",parseFloat(h.target.value)),step:"0.1",min:"0"},null,40,ys)])]),t("div",ks,[t("button",{class:w(["test-model-btn",{testing:be.value[l.name||""],success:((b=W.value[l.name||""])==null?void 0:b.connected)===!0,error:((z=W.value[l.name||""])==null?void 0:z.connected)===!1}]),onClick:C(h=>_t(l.name||""),["stop"]),disabled:!l.name||be.value[l.name||""],title:ft(l.name||"")},[be.value[l.name||""]?(n(),I(u(d),{key:0,icon:"lucide:loader-2",class:"spinning"})):((g=W.value[l.name||""])==null?void 0:g.connected)===!0?(n(),I(u(d),{key:1,icon:"lucide:check-circle"})):((Z=W.value[l.name||""])==null?void 0:Z.connected)===!1?(n(),I(u(d),{key:2,icon:"lucide:x-circle"})):(n(),I(u(d),{key:3,icon:"lucide:play-circle"})),t("span",null,f(yt(l.name||"")),1)],10,gs),W.value[l.name||""]?(n(),a("div",bs,[(Ue=W.value[l.name||""])!=null&&Ue.connected?(n(),a("div",ws,[r(u(d),{icon:"lucide:check-circle-2"}),t("span",null,"è¿žæŽ¥æˆåŠŸ Â· å“åº”æ—¶é—´: "+f((Le=(Be=W.value[l.name||""])==null?void 0:Be.response_time)==null?void 0:Le.toFixed(2))+"s",1),(je=W.value[l.name||""])!=null&&je.response_text?(n(),a("span",Cs,' "'+f((Fe=W.value[l.name||""])==null?void 0:Fe.response_text)+'" ',1)):m("",!0)])):(n(),a("div",hs,[r(u(d),{icon:"lucide:alert-circle"}),t("span",null,"è¿žæŽ¥å¤±è´¥: "+f((We=W.value[l.name||""])==null?void 0:We.error),1)]))])):m("",!0)]),t("div",$s,[t("div",{class:"advanced-header",onClick:h=>E(s)},[e[115]||(e[115]=t("span",null,"é«˜çº§é€‰é¡¹",-1)),r(u(d),{icon:ue.value[s]?"lucide:chevron-up":"lucide:chevron-down"},null,8,["icon"])],8,As),r(q,{name:"slide"},{default:J(()=>[ue.value[s]?(n(),a("div",Is,[t("div",Ms,[t("div",{class:"toggle-item",onClick:h=>G(s,"force_stream_mode",!l.force_stream_mode)},[t("div",Ss,[r(u(d),{icon:"lucide:radio"}),e[116]||(e[116]=t("div",null,[t("span",{class:"toggle-label"},"å¼ºåˆ¶æµå¼"),t("span",{class:"toggle-hint"},"æ¨¡åž‹ä¸æ”¯æŒéžæµå¼æ—¶å¯ç”¨")],-1))]),t("label",{class:"switch",onClick:e[8]||(e[8]=C(()=>{},["stop"]))},[t("input",{type:"checkbox",checked:!!l.force_stream_mode,onChange:h=>G(s,"force_stream_mode",h.target.checked)},null,40,Ps),e[117]||(e[117]=t("span",{class:"slider"},null,-1))])],8,xs),t("div",{class:"toggle-item",onClick:h=>G(s,"anti_truncation",!l.anti_truncation)},[t("div",Es,[r(u(d),{icon:"lucide:shield-check"}),e[118]||(e[118]=t("div",null,[t("span",{class:"toggle-label"},"é˜²æˆªæ–­"),t("span",{class:"toggle-hint"},"è¾“å‡ºä¸å®Œæ•´æ—¶è‡ªåŠ¨é‡è¯•")],-1))]),t("label",{class:"switch",onClick:e[9]||(e[9]=C(()=>{},["stop"]))},[t("input",{type:"checkbox",checked:!!l.anti_truncation,onChange:h=>G(s,"anti_truncation",h.target.checked)},null,40,Ts),e[119]||(e[119]=t("span",{class:"slider"},null,-1))])],8,Vs),t("div",{class:"toggle-item",onClick:h=>G(s,"enable_prompt_perturbation",!l.enable_prompt_perturbation)},[t("div",Ds,[r(u(d),{icon:"lucide:shuffle"}),e[120]||(e[120]=t("div",null,[t("span",{class:"toggle-label"},"æç¤ºè¯æ‰°åŠ¨"),t("span",{class:"toggle-hint"},"æ•´åˆå†…å®¹æ··æ·†å’Œæ³¨æ„åŠ›ä¼˜åŒ–")],-1))]),t("label",{class:"switch",onClick:e[10]||(e[10]=C(()=>{},["stop"]))},[t("input",{type:"checkbox",checked:!!l.enable_prompt_perturbation,onChange:h=>G(s,"enable_prompt_perturbation",h.target.checked)},null,40,Us),e[121]||(e[121]=t("span",{class:"slider"},null,-1))])],8,Os),l.enable_prompt_perturbation?(n(),a("div",Bs,[t("div",Ls,[e[125]||(e[125]=t("label",null,"æ‰°åŠ¨å¼ºåº¦",-1)),t("div",{class:w(["custom-select",{open:i.value===`model-perturbation-${s}`}])},[t("div",{class:"select-trigger",onClick:C(h=>x(`model-perturbation-${s}`,h),["stop"])},[t("span",null,f({light:"è½»åº¦",medium:"ä¸­åº¦",heavy:"é‡åº¦"}[l.perturbation_strength]||"è½»åº¦"),1),r(u(d),{icon:"lucide:chevron-down",class:w(["chevron",{rotated:i.value===`model-perturbation-${s}`}])},null,8,["class"])],8,js),(n(),I(U,{to:"body"},[r(q,{name:"dropdown-fade"},{default:J(()=>[i.value===`model-perturbation-${s}`?(n(),a("div",{key:0,class:"select-options",style:de(p.value)},[t("div",{class:"select-option",onClick:h=>{G(s,"perturbation_strength","light"),i.value=null}},[...e[122]||(e[122]=[t("span",null,"è½»åº¦",-1)])],8,Fs),t("div",{class:"select-option",onClick:h=>{G(s,"perturbation_strength","medium"),i.value=null}},[...e[123]||(e[123]=[t("span",null,"ä¸­åº¦",-1)])],8,Ws),t("div",{class:"select-option",onClick:h=>{G(s,"perturbation_strength","heavy"),i.value=null}},[...e[124]||(e[124]=[t("span",null,"é‡åº¦",-1)])],8,zs)],4)):m("",!0)]),_:2},1024)])),(n(),I(U,{to:"body"},[i.value===`model-perturbation-${s}`?(n(),a("div",{key:0,class:"dropdown-overlay",onClick:e[11]||(e[11]=C(h=>i.value=null,["stop"]))})):m("",!0)]))],2)]),t("div",Rs,[e[127]||(e[127]=t("div",{class:"toggle-info"},[t("span",{class:"toggle-label"},"è¯­ä¹‰å˜ä½“")],-1)),t("label",{class:"switch small",onClick:e[12]||(e[12]=C(()=>{},["stop"]))},[t("input",{type:"checkbox",checked:!!l.enable_semantic_variants,onChange:h=>G(s,"enable_semantic_variants",h.target.checked)},null,40,Gs),e[126]||(e[126]=t("span",{class:"slider"},null,-1))])])])):m("",!0),r(Ne,{"model-value":l.extra_params,"onUpdate:modelValue":h=>G(s,"extra_params",h)},null,8,["model-value","onUpdate:modelValue"])])])):m("",!0)]),_:2},1024)])])):m("",!0)]}),_:2},1024)],2))),128))]))],512),[[Pe,P.value==="models"]]),T(t("div",Ns,[t("div",Js,[(n(),a(Q,null,te(re,l=>t("button",{key:l.key,class:w(["category-btn",{active:oe.value===l.key}]),onClick:s=>oe.value=l.key},[r(u(d),{icon:l.icon},null,8,["icon"]),t("span",null,f(l.name),1)],10,qs)),64))]),t("div",Ks,[(n(!0),a(Q,null,te(_.value,l=>(n(),a("div",{key:l.key,class:"task-item"},[t("div",Qs,[t("div",Hs,[t("span",Xs,f(l.name),1),t("span",Ys,f(l.description),1)])]),t("div",Zs,[t("div",en,[t("div",tn,[e[128]||(e[128]=t("label",null,"æ¨¡åž‹ (å¯å¤šé€‰)",-1)),t("div",{class:w(["custom-select",{open:pe.value===l.key}])},[t("div",{class:"select-trigger",onClick:s=>it(l.key,s)},[Ae(l.key).length===0?(n(),a("span",sn,"æœªé…ç½®")):(n(),a("div",nn,[(n(!0),a(Q,null,te(Ae(l.key),s=>(n(),a("span",{key:s,class:"selected-tag"},f(s),1))),128))])),r(u(d),{icon:"lucide:chevron-down",class:w(["chevron",{rotated:pe.value===l.key}])},null,8,["class"])],8,ln),(n(),I(U,{to:"body"},[r(q,{name:"dropdown-fade"},{default:J(()=>[pe.value===l.key?(n(),a("div",{key:0,class:"select-options",style:de(p.value)},[(n(!0),a(Q,null,te(F.value,s=>(n(),a("div",{key:s.name,class:"select-option",onClick:C(b=>rt(l.key,s.name),["stop"])},[t("div",{class:w(["checkbox",{checked:Ae(l.key).includes(s.name)}])},[Ae(l.key).includes(s.name)?(n(),I(u(d),{key:0,icon:"lucide:check"})):m("",!0)],2),t("span",null,f(s.name),1)],8,on))),128))],4)):m("",!0)]),_:2},1024)]))],2),(n(),I(U,{to:"body"},[pe.value===l.key?(n(),a("div",{key:0,class:"dropdown-overlay",onClick:e[13]||(e[13]=s=>pe.value=null)})):m("",!0)]))]),t("div",an,[e[129]||(e[129]=t("label",null,"æ¸©åº¦",-1)),t("input",{type:"number",class:"form-input",value:ut(l.key),onInput:s=>dt(l.key,parseFloat(s.target.value)),step:"0.1",min:"0",max:"2",placeholder:"0.7"},null,40,rn)]),t("div",un,[e[130]||(e[130]=t("label",null,"æœ€å¤§Token",-1)),t("input",{type:"number",class:"form-input",value:ct(l.key),onInput:s=>vt(l.key,parseInt(s.target.value)),min:"1",placeholder:"800"},null,40,dn)]),t("div",cn,[e[131]||(e[131]=t("label",null,"å¹¶å‘",-1)),t("input",{type:"number",class:"form-input",value:pt(l.key),onInput:s=>mt(l.key,Number(s.target.value)),min:"1",max:"100",placeholder:"1"},null,40,vn)])])])]))),128))])],512),[[Pe,P.value==="tasks"]]),(n(),I(U,{to:"body"},[H.value?(n(),a("div",{key:0,class:"modal-overlay",onClick:e[52]||(e[52]=C(l=>H.value=!1,["self"]))},[t("div",pn,[t("div",mn,[t("h3",null,[r(u(d),{icon:"lucide:plus-circle"}),e[132]||(e[132]=M(" æ·»åŠ  API æä¾›å•† ",-1))]),t("button",{class:"close-btn",onClick:e[14]||(e[14]=l=>H.value=!1)},[r(u(d),{icon:"lucide:x"})])]),t("div",_n,[t("div",fn,[e[134]||(e[134]=t("label",null,"æä¾›å•†æ¨¡æ¿",-1)),t("div",{class:w(["searchable-select",{open:i.value==="preset-provider-select"}])},[t("div",{class:"select-trigger-with-search",onClick:e[15]||(e[15]=C(l=>x("preset-provider-select",l),["stop"]))},[Y.value?(n(),I(u(d),{key:0,icon:Y.value.icon,class:"preset-icon"},null,8,["icon"])):m("",!0),t("span",null,f(Y.value?Y.value.name:"é€‰æ‹©é¢„è®¾æ¨¡æ¿"),1),Y.value?(n(),a("small",yn,f(Y.value.description),1)):m("",!0),r(u(d),{icon:"lucide:chevron-down",class:w(["chevron",{rotated:i.value==="preset-provider-select"}])},null,8,["class"])]),(n(),I(U,{to:"body"},[r(q,{name:"dropdown-fade"},{default:J(()=>[i.value==="preset-provider-select"?(n(),a("div",{key:0,class:"select-options searchable",style:de(p.value),onClick:e[21]||(e[21]=C(()=>{},["stop"])),onMousedown:e[22]||(e[22]=C(()=>{},["stop"]))},[t("div",{class:"search-in-dropdown",onMousedown:e[19]||(e[19]=C(()=>{},["stop"]))},[r(u(d),{icon:"lucide:search"}),T(t("input",{type:"text","onUpdate:modelValue":e[16]||(e[16]=l=>me.value=l),placeholder:"æœç´¢æä¾›å•†...",class:"dropdown-search-input",onClick:e[17]||(e[17]=C(()=>{},["stop"])),onMousedown:e[18]||(e[18]=C(()=>{},["stop"]))},null,544),[[R,me.value]])],32),t("div",{class:"options-list",onMousedown:e[20]||(e[20]=C(()=>{},["stop"]))},[(n(!0),a(Q,null,te(Ie.value,l=>{var s,b;return n(),a("div",{key:l.name,class:w(["select-option with-icon",{selected:((s=Y.value)==null?void 0:s.name)===l.name}]),onClick:z=>{tt(l),i.value=null}},[r(u(d),{icon:l.icon,class:"option-icon"},null,8,["icon"]),t("div",gn,[t("span",bn,f(l.name),1),t("small",wn,f(l.description),1)]),((b=Y.value)==null?void 0:b.name)===l.name?(n(),I(u(d),{key:0,icon:"lucide:check",class:"check-icon"})):m("",!0)],10,kn)}),128)),Ie.value.length===0?(n(),a("div",Cn,[r(u(d),{icon:"lucide:search-x"}),e[133]||(e[133]=t("span",null,"æ— åŒ¹é…ç»“æžœ",-1))])):m("",!0)],32)],36)):m("",!0)]),_:1})])),(n(),I(U,{to:"body"},[i.value==="preset-provider-select"?(n(),a("div",{key:0,class:"dropdown-overlay",onClick:e[23]||(e[23]=C(l=>i.value=null,["stop"]))})):m("",!0)]))],2),e[135]||(e[135]=t("p",{class:"field-tip"},"é€‰æ‹©é¢„è®¾æ¨¡æ¿å¯è‡ªåŠ¨å¡«å…… URL å’Œå®¢æˆ·ç«¯ç±»åž‹ï¼Œæ”¯æŒæœç´¢",-1))]),e[160]||(e[160]=t("div",{class:"divider"},[t("span",null,"é…ç½®è¯¦æƒ…")],-1)),t("div",hn,[t("div",$n,[e[136]||(e[136]=t("label",null,"æä¾›å•†åç§°",-1)),T(t("input",{"onUpdate:modelValue":e[24]||(e[24]=l=>c.value.name=l),type:"text",class:"input",placeholder:"ä¾‹å¦‚: DeepSeek"},null,512),[[R,c.value.name]])]),c.value.client_type!=="bedrock"?(n(),a("div",An,[t("label",null,[e[138]||(e[138]=M(" API åœ°å€ ",-1)),ee.value?(n(),a("span",In,[r(u(d),{icon:"lucide:lock"}),e[137]||(e[137]=M(" ç”±æ¨¡æ¿æŒ‡å®š",-1))])):m("",!0)]),T(t("input",{"onUpdate:modelValue":e[25]||(e[25]=l=>c.value.base_url=l),type:"text",class:w(["input",{disabled:ee.value}]),disabled:ee.value,placeholder:"https://api.example.com/v1"},null,10,Mn),[[R,c.value.base_url]])])):m("",!0),t("div",xn,[t("label",null,[M(f(c.value.client_type==="bedrock"?"AWS Access Key ID":"API å¯†é’¥")+" ",1),e[139]||(e[139]=t("span",{class:"field-hint"},"æ”¯æŒå¤šè¡Œé…ç½®ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨è½®è¯¢",-1))]),r(u(Re),{value:Array.isArray(c.value.api_key)?c.value.api_key:c.value.api_key?[String(c.value.api_key)]:[],onUpdate:e[26]||(e[26]=l=>c.value.api_key=l),placeholder:c.value.client_type==="bedrock"?"ä½ çš„ AWS Access Key ID":"ä½ çš„ API å¯†é’¥","add-button-text":"æ·»åŠ å¤‡ç”¨å¯†é’¥","empty-text":"è¯·æ·»åŠ è‡³å°‘ä¸€ä¸ª API å¯†é’¥","is-secret":!0},null,8,["value","placeholder"])]),t("div",Sn,[t("label",null,[e[141]||(e[141]=M(" å®¢æˆ·ç«¯ç±»åž‹ ",-1)),ee.value?(n(),a("span",Pn,[r(u(d),{icon:"lucide:lock"}),e[140]||(e[140]=M(" ç”±æ¨¡æ¿æŒ‡å®š",-1))])):m("",!0)]),t("div",{class:w(["custom-select",{open:i.value==="new-provider-client",disabled:ee.value}])},[t("div",{class:w(["select-trigger",{disabled:ee.value}]),onClick:e[27]||(e[27]=C(l=>!ee.value&&x("new-provider-client",l),["stop"]))},[t("span",null,f(ve(c.value.client_type)),1),r(u(d),{icon:"lucide:chevron-down",class:w(["chevron",{rotated:i.value==="new-provider-client"}])},null,8,["class"])],2),(n(),I(U,{to:"body"},[r(q,{name:"dropdown-fade"},{default:J(()=>[i.value==="new-provider-client"&&!ee.value?(n(),a("div",{key:0,class:"select-options",style:de(p.value)},[t("div",{class:"select-option",onClick:e[28]||(e[28]=l=>{c.value.client_type="openai",i.value=null})},[...e[142]||(e[142]=[t("span",null,"OpenAI å…¼å®¹",-1)])]),t("div",{class:"select-option",onClick:e[29]||(e[29]=l=>{c.value.client_type="aiohttp_gemini",i.value=null})},[...e[143]||(e[143]=[t("span",null,"Geminiï¼ˆGoogleï¼‰",-1)])]),t("div",{class:"select-option",onClick:e[30]||(e[30]=l=>{c.value.client_type="bedrock",i.value=null})},[...e[144]||(e[144]=[t("span",null,"AWS Bedrock",-1)])])],4)):m("",!0)]),_:1})])),(n(),I(U,{to:"body"},[i.value==="new-provider-client"?(n(),a("div",{key:0,class:"dropdown-overlay",onClick:e[31]||(e[31]=C(l=>i.value=null,["stop"]))})):m("",!0)]))],2)]),c.value.client_type==="bedrock"?(n(),a(Q,{key:1},[t("div",Vn,[e[145]||(e[145]=t("label",null,[M(" AWS Secret Key "),t("span",{class:"field-hint"},"IAM è§’è‰²æ¨¡å¼ä¸‹å¯ç•™ç©º")],-1)),T(t("input",{"onUpdate:modelValue":e[32]||(e[32]=l=>c.value.aws_secret_key=l),type:"password",class:"input",placeholder:"ä½ çš„ AWS Secret Access Key"},null,512),[[R,c.value.aws_secret_key]])]),t("div",En,[e[152]||(e[152]=t("label",null,"AWS åŒºåŸŸ",-1)),t("div",{class:w(["custom-select",{open:i.value==="new-provider-region"}])},[t("div",{class:"select-trigger",onClick:e[33]||(e[33]=C(l=>x("new-provider-region",l),["stop"]))},[t("span",null,f(c.value.aws_region||"us-east-1"),1),r(u(d),{icon:"lucide:chevron-down",class:w(["chevron",{rotated:i.value==="new-provider-region"}])},null,8,["class"])]),(n(),I(U,{to:"body"},[r(q,{name:"dropdown-fade"},{default:J(()=>[i.value==="new-provider-region"?(n(),a("div",{key:0,class:"select-options",style:de(p.value)},[t("div",{class:"select-option",onClick:e[34]||(e[34]=l=>{c.value.aws_region="us-east-1",i.value=null})},[...e[146]||(e[146]=[t("span",null,"us-east-1 (å¼—å‰å°¼äºšåŒ—éƒ¨)",-1)])]),t("div",{class:"select-option",onClick:e[35]||(e[35]=l=>{c.value.aws_region="us-west-2",i.value=null})},[...e[147]||(e[147]=[t("span",null,"us-west-2 (ä¿„å‹’å†ˆ)",-1)])]),t("div",{class:"select-option",onClick:e[36]||(e[36]=l=>{c.value.aws_region="eu-central-1",i.value=null})},[...e[148]||(e[148]=[t("span",null,"eu-central-1 (æ³•å…°å…‹ç¦)",-1)])]),t("div",{class:"select-option",onClick:e[37]||(e[37]=l=>{c.value.aws_region="eu-west-1",i.value=null})},[...e[149]||(e[149]=[t("span",null,"eu-west-1 (çˆ±å°”å…°)",-1)])]),t("div",{class:"select-option",onClick:e[38]||(e[38]=l=>{c.value.aws_region="ap-southeast-1",i.value=null})},[...e[150]||(e[150]=[t("span",null,"ap-southeast-1 (æ–°åŠ å¡)",-1)])]),t("div",{class:"select-option",onClick:e[39]||(e[39]=l=>{c.value.aws_region="ap-northeast-1",i.value=null})},[...e[151]||(e[151]=[t("span",null,"ap-northeast-1 (ä¸œäº¬)",-1)])])],4)):m("",!0)]),_:1})])),(n(),I(U,{to:"body"},[i.value==="new-provider-region"?(n(),a("div",{key:0,class:"dropdown-overlay",onClick:e[40]||(e[40]=C(l=>i.value=null,["stop"]))})):m("",!0)]))],2)])],64)):m("",!0),t("div",Tn,[t("div",{class:"advanced-toggle",onClick:e[41]||(e[41]=l=>ke.value=!ke.value)},[r(u(d),{icon:ke.value?"lucide:chevron-up":"lucide:chevron-down"},null,8,["icon"]),e[153]||(e[153]=t("span",null,"é«˜çº§è®¾ç½®",-1))]),r(q,{name:"slide"},{default:J(()=>[ke.value?(n(),a("div",On,[t("div",Dn,[t("div",Un,[e[154]||(e[154]=t("label",null,"æœ€å¤§é‡è¯•æ¬¡æ•°",-1)),t("div",Bn,[t("button",{class:"number-btn",onClick:e[42]||(e[42]=l=>c.value.max_retry=Math.max(0,(c.value.max_retry??2)-1)),disabled:(c.value.max_retry??2)<=0},[r(u(d),{icon:"lucide:minus"})],8,Ln),T(t("input",{type:"number",class:"form-input number-center","onUpdate:modelValue":e[43]||(e[43]=l=>c.value.max_retry=l),min:"0",max:"10",placeholder:"2"},null,512),[[R,c.value.max_retry,void 0,{number:!0}]]),t("button",{class:"number-btn",onClick:e[44]||(e[44]=l=>c.value.max_retry=Math.min(10,(c.value.max_retry??2)+1)),disabled:(c.value.max_retry??2)>=10},[r(u(d),{icon:"lucide:plus"})],8,jn)]),e[155]||(e[155]=t("p",{class:"field-hint"},"è¯·æ±‚å¤±è´¥æ—¶çš„æœ€å¤§é‡è¯•æ¬¡æ•°",-1))]),t("div",Fn,[e[156]||(e[156]=t("label",null,"è¶…æ—¶æ—¶é—´(ç§’)",-1)),t("div",Wn,[t("button",{class:"number-btn",onClick:e[45]||(e[45]=l=>c.value.timeout=Math.max(5,(c.value.timeout??30)-5)),disabled:(c.value.timeout??30)<=5},[r(u(d),{icon:"lucide:minus"})],8,zn),T(t("input",{type:"number",class:"form-input number-center","onUpdate:modelValue":e[46]||(e[46]=l=>c.value.timeout=l),min:"5",max:"300",step:"5",placeholder:"30"},null,512),[[R,c.value.timeout,void 0,{number:!0}]]),t("button",{class:"number-btn",onClick:e[47]||(e[47]=l=>c.value.timeout=Math.min(300,(c.value.timeout??30)+5)),disabled:(c.value.timeout??30)>=300},[r(u(d),{icon:"lucide:plus"})],8,Rn)]),e[157]||(e[157]=t("p",{class:"field-hint"},"å•æ¬¡è¯·æ±‚çš„è¶…æ—¶æ—¶é—´",-1))])]),t("div",Gn,[t("div",Nn,[e[158]||(e[158]=t("label",null,"é‡è¯•é—´éš”(ç§’)",-1)),t("div",Jn,[t("button",{class:"number-btn",onClick:e[48]||(e[48]=l=>c.value.retry_interval=Math.max(1,(c.value.retry_interval??10)-1)),disabled:(c.value.retry_interval??10)<=1},[r(u(d),{icon:"lucide:minus"})],8,qn),T(t("input",{type:"number",class:"form-input number-center","onUpdate:modelValue":e[49]||(e[49]=l=>c.value.retry_interval=l),min:"1",max:"60",placeholder:"10"},null,512),[[R,c.value.retry_interval,void 0,{number:!0}]]),t("button",{class:"number-btn",onClick:e[50]||(e[50]=l=>c.value.retry_interval=Math.min(60,(c.value.retry_interval??10)+1)),disabled:(c.value.retry_interval??10)>=60},[r(u(d),{icon:"lucide:plus"})],8,Kn)]),e[159]||(e[159]=t("p",{class:"field-hint"},"é‡è¯•ä¹‹é—´çš„ç­‰å¾…æ—¶é—´",-1))])])])):m("",!0)]),_:1})])])]),t("div",Qn,[t("button",{class:"btn btn-secondary",onClick:e[51]||(e[51]=l=>H.value=!1)},"å–æ¶ˆ"),t("button",{class:"btn btn-primary",onClick:lt,disabled:!c.value.name||c.value.client_type!=="bedrock"&&!c.value.base_url},[r(u(d),{icon:"lucide:check"}),e[161]||(e[161]=M(" æ·»åŠ  ",-1))],8,Hn)])])])):m("",!0)])),(n(),I(U,{to:"body"},[X.value?(n(),a("div",{key:0,class:"modal-overlay",onClick:e[83]||(e[83]=C(l=>X.value=!1,["self"]))},[t("div",Xn,[t("div",Yn,[t("h3",null,[r(u(d),{icon:"lucide:bot"}),e[162]||(e[162]=M(" æ·»åŠ æ¨¡åž‹ ",-1))]),t("button",{class:"close-btn",onClick:e[53]||(e[53]=l=>X.value=!1)},[r(u(d),{icon:"lucide:x"})])]),t("div",Zn,[t("div",eo,[e[163]||(e[163]=t("label",null,[M(" æ¨¡åž‹æ ‡è¯†ç¬¦ "),t("span",{class:"field-hint"},"API æœåŠ¡å•†æä¾›çš„æ¨¡åž‹æ ‡è¯†ç¬¦")],-1)),t("div",to,[T(t("input",{"onUpdate:modelValue":e[54]||(e[54]=l=>v.value.model_identifier=l),type:"text",class:"input",placeholder:"ä¾‹å¦‚: deepseek-chat, gpt-4",style:{flex:"1"}},null,512),[[R,v.value.model_identifier]])])]),t("div",lo,[e[164]||(e[164]=t("label",null,[M(" æ¨¡åž‹åç§° "),t("span",{class:"field-hint"},"æ¨¡åž‹çš„è‡ªå®šä¹‰åç§°ï¼Œåœ¨ä»»åŠ¡é…ç½®ä¸­ä½¿ç”¨")],-1)),T(t("input",{"onUpdate:modelValue":e[55]||(e[55]=l=>v.value.name=l),type:"text",class:"input",placeholder:"ä¾‹å¦‚: deepseek-v3"},null,512),[[R,v.value.name]])]),t("div",so,[e[166]||(e[166]=t("label",null,"API æä¾›å•†",-1)),t("div",{class:w(["custom-select",{open:i.value==="new-model-provider"}])},[t("div",{class:"select-trigger",onClick:e[56]||(e[56]=C(l=>x("new-model-provider",l),["stop"]))},[t("span",null,f(v.value.api_provider||"è¯·é€‰æ‹©æä¾›å•†"),1),r(u(d),{icon:"lucide:chevron-down",class:w(["chevron",{rotated:i.value==="new-model-provider"}])},null,8,["class"])]),(n(),I(U,{to:"body"},[r(q,{name:"dropdown-fade"},{default:J(()=>[i.value==="new-model-provider"?(n(),a("div",{key:0,class:"select-options",style:de(p.value)},[t("div",{class:"select-option",onClick:e[57]||(e[57]=l=>{v.value.api_provider="",xe(),i.value=null})},[...e[165]||(e[165]=[t("span",null,"è¯·é€‰æ‹©æä¾›å•†",-1)])]),(n(!0),a(Q,null,te(N.value,l=>(n(),a("div",{key:l.name,class:"select-option",onClick:s=>{v.value.api_provider=l.name||"",xe(),i.value=null}},[t("span",null,f(l.name),1)],8,no))),128))],4)):m("",!0)]),_:1})])),(n(),I(U,{to:"body"},[i.value==="new-model-provider"?(n(),a("div",{key:0,class:"dropdown-overlay",onClick:e[58]||(e[58]=C(l=>i.value=null,["stop"]))})):m("",!0)]))],2)]),v.value.api_provider&&(Me.value||se.value.length>0||ie.value)?(n(),a("div",oo,[Me.value?(n(),a("div",ao,[r(u(d),{icon:"lucide:loader-2",class:"spinning"}),e[167]||(e[167]=t("span",null,"æ­£åœ¨èŽ·å–å¯ç”¨æ¨¡åž‹...",-1))])):ie.value?(n(),a("div",io,[r(u(d),{icon:"lucide:alert-circle"}),t("span",null,f(ie.value),1),t("button",{class:"btn-retry",onClick:xe},[r(u(d),{icon:"lucide:refresh-cw"}),e[168]||(e[168]=M(" é‡è¯• ",-1))])])):se.value.length>0?(n(),a("div",ro,[t("div",uo,[t("span",null,"å¯ç”¨æ¨¡åž‹ ("+f(se.value.length)+")",1),t("button",{class:"btn-refresh",onClick:xe,title:"åˆ·æ–°åˆ—è¡¨"},[r(u(d),{icon:"lucide:refresh-cw"})])]),t("div",co,[r(u(d),{icon:"lucide:search"}),T(t("input",{type:"text","onUpdate:modelValue":e[59]||(e[59]=l=>we.value=l),placeholder:"æœç´¢æ¨¡åž‹...",class:"model-search-input"},null,512),[[R,we.value]]),we.value?(n(),a("button",{key:0,class:"clear-model-search",onClick:e[60]||(e[60]=l=>we.value="")},[r(u(d),{icon:"lucide:x"})])):m("",!0)]),t("div",vo,[(n(!0),a(Q,null,te(De.value,l=>(n(),a("button",{key:l.id,class:w(["model-option",{active:v.value.model_identifier===l.id}]),onClick:s=>{v.value.model_identifier=l.id,v.value.name=l.name}},[r(u(d),{icon:"lucide:bot"}),t("div",mo,[t("span",_o,f(l.id),1),l.name!==l.id?(n(),a("span",fo,f(l.name),1)):m("",!0)]),v.value.model_identifier===l.id?(n(),I(u(d),{key:0,icon:"lucide:check",class:"check-icon"})):m("",!0)],10,po))),128)),De.value.length===0?(n(),a("div",yo,[r(u(d),{icon:"lucide:search-x"}),e[169]||(e[169]=t("span",null,"æ— åŒ¹é…çš„æ¨¡åž‹",-1))])):m("",!0)])])):m("",!0)])):m("",!0),t("div",ko,[t("div",go,[e[170]||(e[170]=t("label",null,"è¾“å…¥ä»·æ ¼ (å…ƒ/M token)",-1)),T(t("input",{"onUpdate:modelValue":e[61]||(e[61]=l=>v.value.price_in=l),type:"number",class:"input",step:"0.1",min:"0"},null,512),[[R,v.value.price_in,void 0,{number:!0}]])]),t("div",bo,[e[171]||(e[171]=t("label",null,"è¾“å‡ºä»·æ ¼ (å…ƒ/M token)",-1)),T(t("input",{"onUpdate:modelValue":e[62]||(e[62]=l=>v.value.price_out=l),type:"number",class:"input",step:"0.1",min:"0"},null,512),[[R,v.value.price_out,void 0,{number:!0}]])])]),t("div",wo,[t("div",{class:"advanced-header",onClick:e[63]||(e[63]=l=>K.value=!K.value)},[t("div",Co,[r(u(d),{icon:K.value?"lucide:chevron-down":"lucide:chevron-right"},null,8,["icon"]),e[172]||(e[172]=t("span",null,"é«˜çº§å‚æ•° (å¯é€‰)",-1))]),t("span",ho,f(K.value?"æ”¶èµ·":"å±•å¼€"),1)]),T(t("div",$o,[t("div",Ao,[e[173]||(e[173]=t("label",null,[M(" æœ€å¤§è¾“å‡º Token "),t("span",{class:"field-hint"},"ç•™ç©ºä½¿ç”¨é»˜è®¤å€¼")],-1)),T(t("input",{"onUpdate:modelValue":e[64]||(e[64]=l=>v.value.max_tokens=l),type:"number",class:"input",min:"1",placeholder:"ä¾‹å¦‚: 4096"},null,512),[[R,v.value.max_tokens,void 0,{number:!0}]])]),t("div",Io,[e[174]||(e[174]=t("label",null,[M(" æ¸©åº¦ (temperature) "),t("span",{class:"field-hint"},"0-2ï¼Œç•™ç©ºä½¿ç”¨é»˜è®¤å€¼")],-1)),t("div",Mo,[t("input",{type:"range",class:"temp-slider",value:v.value.temperature??.7,onInput:e[65]||(e[65]=l=>v.value.temperature=parseFloat(l.target.value)),min:"0",max:"2",step:"0.1"},null,40,xo),T(t("input",{"onUpdate:modelValue":e[66]||(e[66]=l=>v.value.temperature=l),type:"number",class:"input temp-input",step:"0.1",min:"0",max:"2",placeholder:"0.7"},null,512),[[R,v.value.temperature,void 0,{number:!0}]])])]),t("div",So,[t("div",{class:"feature-toggle",onClick:e[69]||(e[69]=l=>v.value.anti_truncation=!v.value.anti_truncation)},[t("div",Po,[t("div",{class:w(["feature-toggle-icon",{active:v.value.anti_truncation}])},[r(u(d),{icon:"lucide:shield-check"})],2),e[175]||(e[175]=t("div",{class:"feature-toggle-text"},[t("span",{class:"feature-name"},"åæˆªæ–­"),t("span",{class:"feature-hint"},"é˜²æ­¢æ¨¡åž‹è¾“å‡ºè¢«æˆªæ–­")],-1))]),t("label",{class:"switch small",onClick:e[68]||(e[68]=C(()=>{},["stop"]))},[T(t("input",{type:"checkbox","onUpdate:modelValue":e[67]||(e[67]=l=>v.value.anti_truncation=l)},null,512),[[Ve,v.value.anti_truncation]]),e[176]||(e[176]=t("span",{class:"slider"},null,-1))])]),t("div",{class:"feature-toggle",onClick:e[72]||(e[72]=l=>v.value.enable_prompt_perturbation=!v.value.enable_prompt_perturbation)},[t("div",Vo,[t("div",{class:w(["feature-toggle-icon",{active:v.value.enable_prompt_perturbation}])},[r(u(d),{icon:"lucide:shuffle"})],2),e[177]||(e[177]=t("div",{class:"feature-toggle-text"},[t("span",{class:"feature-name"},"å†…å®¹æ··æ·†"),t("span",{class:"feature-hint"},"å¯¹æç¤ºè¯è¿›è¡Œå¾®æ‰°åŠ¨ï¼Œå¢žåŠ è¾“å‡ºå¤šæ ·æ€§")],-1))]),t("label",{class:"switch small",onClick:e[71]||(e[71]=C(()=>{},["stop"]))},[T(t("input",{type:"checkbox","onUpdate:modelValue":e[70]||(e[70]=l=>v.value.enable_prompt_perturbation=l)},null,512),[[Ve,v.value.enable_prompt_perturbation]]),e[178]||(e[178]=t("span",{class:"slider"},null,-1))])]),v.value.enable_prompt_perturbation?(n(),a("div",Eo,[t("div",To,[e[182]||(e[182]=t("label",null,"æ‰°åŠ¨å¼ºåº¦",-1)),t("div",{class:w(["custom-select",{open:i.value==="new-model-perturbation"}])},[t("div",{class:"select-trigger",onClick:e[73]||(e[73]=C(l=>x("new-model-perturbation",l),["stop"]))},[t("span",null,f({light:"è½»åº¦",medium:"ä¸­åº¦",heavy:"é‡åº¦"}[v.value.perturbation_strength]||"è½»åº¦"),1),r(u(d),{icon:"lucide:chevron-down",class:w(["chevron",{rotated:i.value==="new-model-perturbation"}])},null,8,["class"])]),(n(),I(U,{to:"body"},[r(q,{name:"dropdown-fade"},{default:J(()=>[i.value==="new-model-perturbation"?(n(),a("div",{key:0,class:"select-options",style:de(p.value)},[t("div",{class:"select-option",onClick:e[74]||(e[74]=l=>{v.value.perturbation_strength="light",i.value=null})},[...e[179]||(e[179]=[t("span",null,"è½»åº¦",-1)])]),t("div",{class:"select-option",onClick:e[75]||(e[75]=l=>{v.value.perturbation_strength="medium",i.value=null})},[...e[180]||(e[180]=[t("span",null,"ä¸­åº¦",-1)])]),t("div",{class:"select-option",onClick:e[76]||(e[76]=l=>{v.value.perturbation_strength="heavy",i.value=null})},[...e[181]||(e[181]=[t("span",null,"é‡åº¦",-1)])])],4)):m("",!0)]),_:1})])),(n(),I(U,{to:"body"},[i.value==="new-model-perturbation"?(n(),a("div",{key:0,class:"dropdown-overlay",onClick:e[77]||(e[77]=C(l=>i.value=null,["stop"]))})):m("",!0)]))],2)]),t("div",{class:"feature-toggle compact",onClick:e[80]||(e[80]=l=>v.value.enable_semantic_variants=!v.value.enable_semantic_variants)},[e[184]||(e[184]=t("div",{class:"feature-toggle-info"},[t("span",{class:"feature-name"},"è¯­ä¹‰å˜ä½“")],-1)),t("label",{class:"switch small",onClick:e[79]||(e[79]=C(()=>{},["stop"]))},[T(t("input",{type:"checkbox","onUpdate:modelValue":e[78]||(e[78]=l=>v.value.enable_semantic_variants=l)},null,512),[[Ve,v.value.enable_semantic_variants]]),e[183]||(e[183]=t("span",{class:"slider"},null,-1))])])])):m("",!0),r(Ne,{modelValue:v.value.extra_params,"onUpdate:modelValue":e[81]||(e[81]=l=>v.value.extra_params=l)},null,8,["modelValue"])])],512),[[Pe,K.value]])])]),t("div",Oo,[t("button",{class:"btn btn-secondary",onClick:e[82]||(e[82]=l=>X.value=!1)},"å–æ¶ˆ"),t("button",{class:"btn btn-primary",onClick:nt,disabled:!v.value.model_identifier||!v.value.name},[r(u(d),{icon:"lucide:check"}),e[185]||(e[185]=M(" æ·»åŠ  ",-1))],8,Do)])])])):m("",!0)]))]))}}),Bo=Oe(Uo,[["__scopeId","data-v-80c29c02"]]),Lo={class:"model-config-view"},jo={class:"config-header"},Fo={class:"header-actions"},Wo={class:"m3-segmented-button"},zo=["disabled"],Ro={key:0,class:"visual-editor"},Go={key:0,class:"loading-state"},No={key:1,class:"error-state"},Jo={key:1,class:"source-editor"},qo={class:"source-toolbar"},Ko={class:"file-path"},Qo={class:"monaco-container"},Ho={key:0,class:"validation-error"},Xo={class:"m3-dialog"},Yo={class:"dialog-header"},Zo={class:"dialog-body"},ea={key:0,class:"loading-state"},ta={key:1,class:"empty-state"},la={key:2,class:"backup-list"},sa={class:"backup-info"},na={class:"backup-name"},oa={class:"backup-meta"},aa=["onClick","disabled"],ia={class:"material-symbols-rounded"},ra=Ee({__name:"ModelConfigView",setup($){const B={minimap:{enabled:!0},fontSize:14,lineNumbers:"on",roundedSelection:!0,scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2,wordWrap:"on",lineHeight:24,fontFamily:"'JetBrains Mono', 'Fira Code', Consolas, monospace",padding:{top:16,bottom:16},folding:!0,lineDecorationsWidth:10,lineNumbersMinChars:3,renderLineHighlight:"all",scrollbar:{verticalScrollbarSize:10,horizontalScrollbarSize:10}},ne=gt(null),A=y(!0),V=y(!1),P=y(""),L=y("visual"),D=y(!0),O=y(null),oe=y({}),le=y({}),re=y(""),ue=y(""),H=y(""),X=y([]),K=y(!1),i=y([]),p=y(!1),S=y(""),x=y({show:!1,message:"",type:"success"}),c=ce(()=>L.value==="source"?re.value!==ue.value:Object.keys(oe.value).length>0);function Y(k){return k<1024?`${k} B`:k<1024*1024?`${(k/1024).toFixed(1)} KB`:`${(k/1024/1024).toFixed(1)} MB`}function me(k){ne.value=k}function ke(){var k;ne.value&&((k=ne.value.getAction("editor.action.formatDocument"))==null||k.run())}async function ee(){A.value=!0,P.value="";try{const[k,_,E]=await Promise.all([qe(),Qe(),Ze().catch(()=>[])]);X.value=E,O.value=k;const ae={},ve=k.model_tasks;for(const[Ce,j]of Object.entries(ve))j&&typeof j=="object"&&(ae[Ce]=j);le.value={api_providers:k.api_providers,models:k.models,model_task_config:ae},re.value=_.content,ue.value=_.content}catch(k){P.value=k instanceof Error?k.message:"åŠ è½½é…ç½®æ—¶å‘ç”Ÿé”™è¯¯",console.error(k)}finally{A.value=!1}}function Ie(k,_){if(k.startsWith("model_task_config.")){const E=k.split("."),ae=E[1],ve=E.slice(2).join("."),Ce=le.value.model_task_config||{},j=Ce[ae]||{};le.value={...le.value,model_task_config:{...Ce,[ae]:{...j,[ve]:_}}}}else le.value={...le.value,[k]:_};oe.value[k]=_}function v(){const k=le.value,_=k.model_task_config||{},E={};for(const[ae,ve]of Object.entries(_))E[ae]=ve;return{api_providers:k.api_providers||[],models:k.models||[],model_tasks:E}}async function $e(){V.value=!0;try{if(L.value==="source")await He(re.value),ue.value=re.value,F("é…ç½®å·²ä¿å­˜","success"),await ee();else{if(Object.keys(oe.value).length===0){F("æ²¡æœ‰éœ€è¦ä¿å­˜çš„æ›´æ”¹","error");return}const k=v();await Ke(k),oe.value={},F("é…ç½®å·²ä¿å­˜","success"),await ee()}}catch(k){F(k instanceof Error?k.message:"ä¿å­˜é…ç½®å¤±è´¥","error")}finally{V.value=!1}}async function _e(){p.value=!0;try{const k=await Xe();i.value=k.backups}catch{F("åŠ è½½å¤‡ä»½åˆ—è¡¨å¤±è´¥","error")}finally{p.value=!1}}async function N(k){if(confirm(`ç¡®å®šè¦ä»Žå¤‡ä»½ "${k}" æ¢å¤é…ç½®å—ï¼Ÿå½“å‰é…ç½®å°†è¢«è¦†ç›–ã€‚`)){S.value=k;try{await Ye(k),F("é…ç½®å·²æ¢å¤","success"),K.value=!1,await ee()}catch(_){F(_ instanceof Error?_.message:"æ¢å¤å¤‡ä»½å¤±è´¥","error")}finally{S.value=""}}}function F(k,_){x.value={show:!0,message:k,type:_},setTimeout(()=>{x.value.show=!1},3e3)}return Te(K,k=>{k&&_e()}),Je(()=>{ee(),D.value=window.matchMedia("(prefers-color-scheme: dark)").matches}),(k,_)=>(n(),a("div",Lo,[t("header",jo,[_[9]||(_[9]=t("div",{class:"header-left"},[t("div",{class:"header-icon-container"},[t("span",{class:"material-symbols-rounded header-icon"},"psychology")]),t("div",{class:"header-info"},[t("h1",null,"æ¨¡åž‹é…ç½®"),t("p",null,"é…ç½® AI æ¨¡åž‹æä¾›å•†ã€API å¯†é’¥å’Œæ¨¡åž‹å‚æ•°")])],-1)),t("div",Fo,[t("div",Wo,[t("button",{class:w(["segment",{active:L.value==="visual"}]),onClick:_[0]||(_[0]=E=>L.value="visual")},[..._[6]||(_[6]=[t("span",{class:"material-symbols-rounded"},"grid_view",-1),M(" å¯è§†åŒ– ",-1)])],2),t("button",{class:w(["segment",{active:L.value==="source"}]),onClick:_[1]||(_[1]=E=>L.value="source")},[..._[7]||(_[7]=[t("span",{class:"material-symbols-rounded"},"code",-1),M(" æºç  ",-1)])],2)]),t("button",{class:"m3-icon-button",onClick:_[2]||(_[2]=E=>K.value=!0),title:"å¤‡ä»½åŽ†å²"},[..._[8]||(_[8]=[t("span",{class:"material-symbols-rounded"},"history",-1)])]),t("button",{class:"m3-button filled",onClick:$e,disabled:V.value||!c.value},[t("span",{class:w(["material-symbols-rounded",{spinning:V.value}])},f(V.value?"progress_activity":"save"),3),M(" "+f(V.value?"ä¿å­˜ä¸­...":"ä¿å­˜é…ç½®"),1)],8,zo)])]),L.value==="visual"?(n(),a("div",Ro,[A.value?(n(),a("div",Go,[..._[10]||(_[10]=[t("span",{class:"material-symbols-rounded spinning"},"progress_activity",-1),M(" åŠ è½½é…ç½®ä¸­... ",-1)])])):P.value?(n(),a("div",No,[_[11]||(_[11]=t("span",{class:"material-symbols-rounded"},"error",-1)),M(" "+f(P.value),1)])):(n(),I(Bo,{key:2,"parsed-data":le.value,"edited-values":oe.value,"tasks-schema":X.value,onUpdate:Ie},null,8,["parsed-data","edited-values","tasks-schema"]))])):(n(),a("div",Jo,[t("div",qo,[t("span",Ko,[_[12]||(_[12]=t("span",{class:"material-symbols-rounded"},"description",-1)),M(" "+f(k.configPath),1)]),t("div",{class:"toolbar-actions"},[t("button",{class:"m3-button text small",onClick:ke},[..._[13]||(_[13]=[t("span",{class:"material-symbols-rounded"},"format_align_left",-1),M(" æ ¼å¼åŒ– ",-1)])])])]),t("div",Qo,[r(u(bt),{value:re.value,"onUpdate:value":_[3]||(_[3]=E=>re.value=E),language:"ini",theme:D.value?"vs-dark":"vs",options:B,onMount:me},null,8,["value","theme"])]),H.value?(n(),a("div",Ho,[_[14]||(_[14]=t("span",{class:"material-symbols-rounded"},"warning",-1)),M(" "+f(H.value),1)])):m("",!0)])),r(q,{name:"dialog"},{default:J(()=>[K.value?(n(),a("div",{key:0,class:"m3-dialog-overlay",onClick:_[5]||(_[5]=C(E=>K.value=!1,["self"]))},[t("div",Xo,[t("div",Yo,[_[16]||(_[16]=t("h3",null,[t("span",{class:"material-symbols-rounded"},"history"),M(" å¤‡ä»½ç®¡ç† ")],-1)),t("button",{class:"m3-icon-button",onClick:_[4]||(_[4]=E=>K.value=!1)},[..._[15]||(_[15]=[t("span",{class:"material-symbols-rounded"},"close",-1)])])]),t("div",Zo,[p.value?(n(),a("div",ea,[..._[17]||(_[17]=[t("span",{class:"material-symbols-rounded spinning"},"progress_activity",-1),M(" åŠ è½½å¤‡ä»½åˆ—è¡¨... ",-1)])])):i.value.length===0?(n(),a("div",ta,[..._[18]||(_[18]=[t("span",{class:"material-symbols-rounded empty-icon"},"history_toggle_off",-1),M(" æš‚æ— å¤‡ä»½ ",-1)])])):(n(),a("div",la,[(n(!0),a(Q,null,te(i.value,E=>(n(),a("div",{key:E.name,class:"backup-item"},[t("div",sa,[t("span",na,f(E.name),1),t("span",oa,f(E.created_at)+" Â· "+f(Y(E.size)),1)]),t("button",{class:"m3-button text",onClick:ae=>N(E.name),disabled:S.value===E.name},[t("span",{class:w(["material-symbols-rounded",{spinning:S.value===E.name}])},f(S.value===E.name?"progress_activity":"restore"),3),_[19]||(_[19]=M(" æ¢å¤ ",-1))],8,aa)]))),128))]))])])])):m("",!0)]),_:1}),r(q,{name:"toast"},{default:J(()=>[x.value.show?(n(),a("div",{key:0,class:w(["m3-snackbar",x.value.type])},[t("span",ia,f(x.value.type==="success"?"check_circle":"error"),1),M(" "+f(x.value.message),1)],2)):m("",!0)]),_:1})]))}}),ma=Oe(ra,[["__scopeId","data-v-5f9d84d9"]]);export{ma as default};
