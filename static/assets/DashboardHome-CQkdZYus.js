import{a as z,z as me,A as Z,B as H,C as fe,D as P,E as he,G as F,H as se,m as Y,I as ye,J as _e,K as pe,p as ae,l as oe,f as M,T as ne,w as le,c as m,g as I,s as ge,e,L as K,t as v,M as ie,o as d,_ as U,r as C,N as re,n as B,q as G,F as V,h as W,j as be,v as we}from"./index-K77h00Ct.js";import{i as $e,t as ke,u as Oe,a as Ce,b as Ee,c as xe,d as Se,e as Le}from"./install-C00Tj0d-.js";import{g as Re,a as X,b as Pe,c as Te,d as Me}from"./dashboard-g1Bu4ukx.js";const De=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function Ae(t){function r(o){return(...l)=>{if(!t.value)throw new Error("ECharts is not initialized yet.");return t.value[o].apply(t.value,l)}}function s(){const o=Object.create(null);return De.forEach(l=>{o[l]=r(l)}),o}return s()}function Ie(t,r,s){F([s,t,r],([o,l,f],a,_)=>{let y=null;if(o&&l&&f){const{offsetWidth:O,offsetHeight:E}=o,u=f===!0?{}:f,{throttle:n=100,onResize:p}=u;let $=!1;const k=()=>{l.resize(),p==null||p()},h=n?ke(k,n):k;y=new ResizeObserver(()=>{!$&&($=!0,o.offsetWidth===O&&o.offsetHeight===E)||h()}),y.observe(o)}_(()=>{y&&(y.disconnect(),y=null)})})}const ze={autoresize:[Boolean,Object]},Ue=/^on[^a-z]/,ce=t=>Ue.test(t);function Ve(t){const r={};for(const s in t)ce(s)||(r[s]=t[s]);return r}function Q(t,r){const s=pe(t)?ae(t):t;return s&&typeof s=="object"&&"value"in s?s.value||r:s||r}const Be="ecLoadingOptions";function Ne(t,r,s){const o=H(Be,{}),l=P(()=>({...Q(o,{}),...s==null?void 0:s.value}));se(()=>{const f=t.value;f&&(r.value?f.showLoading(l.value):f.hideLoading())})}const je={loading:Boolean,loadingOptions:Object};let q=null;const ue="x-vue-echarts";function qe(){if(q!=null)return q;if(typeof HTMLElement>"u"||typeof customElements>"u")return q=!1;try{new Function("tag","class EChartsElement extends HTMLElement{__dispose=null;disconnectedCallback(){this.__dispose&&(this.__dispose(),this.__dispose=null)}}customElements.get(tag)==null&&customElements.define(tag,EChartsElement);")(ue)}catch{return q=!1}return q=!0}document.head.appendChild(document.createElement("style")).textContent=`x-vue-echarts{display:block;width:100%;height:100%;min-width:0}
`;const He=qe(),Fe="ecTheme",Qe="ecInitOptions",Ke="ecUpdateOptions",te=/(^&?~?!?)native:/;var Ge=z({name:"echarts",props:{option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean,...ze,...je},emits:{},inheritAttrs:!1,setup(t,{attrs:r}){const s=Z(),o=Z(),l=Z(),f=H(Fe,null),a=H(Qe,null),_=H(Ke,null),{autoresize:y,manualUpdate:O,loading:E,loadingOptions:u}=fe(t),n=P(()=>l.value||t.option||null),p=P(()=>t.theme||Q(f,{})),$=P(()=>t.initOptions||Q(a,{})),k=P(()=>t.updateOptions||Q(_,{})),h=P(()=>Ve(r)),S={},x=he().proxy.$listeners,L={};x?Object.keys(x).forEach(b=>{te.test(b)?S[b.replace(te,"$1")]=x[b]:L[b]=x[b]}):Object.keys(r).filter(b=>ce(b)).forEach(b=>{let g=b.charAt(2).toLowerCase()+b.slice(3);if(g.indexOf("native:")===0){const N=`on${g.charAt(7).toUpperCase()}${g.slice(8)}`;S[N]=r[b];return}g.substring(g.length-4)==="Once"&&(g=`~${g.substring(0,g.length-4)}`),L[g]=r[b]});function T(b){if(!s.value)return;const g=o.value=$e(s.value,p.value,$.value);t.group&&(g.group=t.group),Object.keys(L).forEach(j=>{let D=L[j];if(!D)return;let A=j.toLowerCase();A.charAt(0)==="~"&&(A=A.substring(1),D.__once__=!0);let J=g;if(A.indexOf("zr:")===0&&(J=g.getZr(),A=A.substring(3)),D.__once__){delete D.__once__;const de=D;D=(...ve)=>{de(...ve),J.off(A,D)}}J.on(A,D)});function N(){g&&!g.isDisposed()&&g.resize()}function ee(){const j=b||n.value;j&&g.setOption(j,k.value)}y.value?_e(()=>{N(),ee()}):ee()}function c(b,g){t.manualUpdate&&(l.value=b),o.value?o.value.setOption(b,g||{}):T(b)}function i(){o.value&&(o.value.dispose(),o.value=void 0)}let w=null;F(O,b=>{typeof w=="function"&&(w(),w=null),b||(w=F(()=>t.option,(g,N)=>{g&&(o.value?o.value.setOption(g,{notMerge:g!==N,...k.value}):T())},{deep:!0}))},{immediate:!0}),F([p,$],()=>{i(),T()},{deep:!0}),se(()=>{t.group&&o.value&&(o.value.group=t.group)});const R=Ae(o);return Ne(o,E,u),Ie(o,y,s),Y(()=>{T()}),ye(()=>{He&&s.value?s.value.__dispose=i:i()}),{chart:o,root:s,setOption:c,nonEventAttrs:h,nativeListeners:S,...R}},render(){const t={...this.nonEventAttrs,...this.nativeListeners};return t.ref="root",t.class=t.class?["echarts"].concat(t.class):"echarts",me(ue,t)}});const We={class:"m3-dialog modal-container"},Ye={class:"modal-message"},Je={class:"modal-detail"},Ze=z({__name:"ConnectionError",props:{visible:{type:Boolean},message:{}},emits:["close","retry"],setup(t,{emit:r}){const s=r;function o(){s("close")}function l(){s("retry")}return(f,a)=>(d(),oe(ie,{to:"body"},[M(ne,{name:"modal"},{default:le(()=>[t.visible?(d(),m("div",{key:0,class:"modal-overlay",onClick:ge(o,["self"])},[e("div",We,[a[3]||(a[3]=e("div",{class:"modal-icon"},[e("span",{class:"material-symbols-rounded"},"wifi_off")],-1)),a[4]||(a[4]=e("h2",{class:"modal-title"},"连接失败",-1)),e("p",Ye,[a[0]||(a[0]=K(" 无法连接到后端服务器",-1)),a[1]||(a[1]=e("br",null,null,-1)),e("span",Je,v(t.message||"请检查服务是否正常运行"),1)]),e("div",{class:"modal-actions"},[e("button",{class:"m3-button filled",onClick:l},[...a[2]||(a[2]=[e("span",{class:"material-symbols-rounded"},"refresh",-1),K(" 重试连接 ",-1)])]),e("button",{class:"m3-button text",onClick:o}," 关闭 ")])])])):I("",!0)]),_:1})]))}}),Xe=U(Ze,[["__scopeId","data-v-3d7630d8"]]),et={class:"selected-label"},tt=["onClick"],st={key:0,class:"material-symbols-rounded check-icon"},at=z({__name:"M3Select",props:{modelValue:{},options:{}},emits:["update:modelValue","change"],setup(t,{emit:r}){const s=t,o=r,l=C(!1),f=C(null),a=C(null),_=C({top:0,left:0,width:0}),y=P(()=>{const h=s.options.find(S=>S.value===s.modelValue);return h?h.label:s.modelValue}),O=P(()=>({top:`${_.value.top}px`,left:`${_.value.left}px`,minWidth:`${_.value.width}px`})),E=()=>{if(f.value){const h=f.value.getBoundingClientRect();_.value={top:h.bottom+4,left:h.left,width:h.width}}},u=async()=>{l.value?l.value=!1:(E(),l.value=!0)},n=h=>{o("update:modelValue",h.value),o("change",h.value),l.value=!1},p=h=>{f.value&&!f.value.contains(h.target)&&a.value&&!a.value.contains(h.target)&&(l.value=!1)},$=()=>{l.value&&(l.value=!1)},k=()=>{l.value&&(l.value=!1)};return Y(()=>{document.addEventListener("click",p),window.addEventListener("scroll",$,!0),window.addEventListener("resize",k)}),re(()=>{document.removeEventListener("click",p),window.removeEventListener("scroll",$,!0),window.removeEventListener("resize",k)}),(h,S)=>(d(),m("div",{class:"m3-select-container",ref_key:"containerRef",ref:f},[e("div",{class:B(["m3-select-trigger",{active:l.value}]),onClick:u},[e("span",et,v(y.value),1),e("span",{class:B(["material-symbols-rounded arrow-icon",{rotated:l.value}])},"arrow_drop_down",2)],2),(d(),oe(ie,{to:"body"},[M(ne,{name:"scale-fade"},{default:le(()=>[l.value?(d(),m("div",{key:0,class:"m3-select-menu",style:G(O.value),ref_key:"menuRef",ref:a},[(d(!0),m(V,null,W(t.options,x=>(d(),m("div",{key:x.value,class:B(["m3-select-option",{selected:x.value===t.modelValue}]),onClick:L=>n(x)},[K(v(x.label)+" ",1),x.value===t.modelValue?(d(),m("span",st,"check")):I("",!0)],10,tt))),128))],4)):I("",!0)]),_:1})]))],512))}}),ot=U(at,[["__scopeId","data-v-dd2bacbe"]]),nt={class:"daily-quote-card m3-card"},lt={class:"quote-content"},it={class:"quote-text"},rt={class:"quote-footer"},ct={class:"author-info"},ut={class:"author-name"},dt={key:0,class:"quote-category"},vt=["disabled"],mt=z({__name:"DailyQuote",setup(t){const r=C(null),s=C(!1);async function o(){s.value=!0;const f=Date.now();try{const a=await Re();a.success&&a.data&&(r.value=a.data)}catch(a){console.error("获取每日名言失败:",a)}finally{const a=Date.now()-f,_=800;a<_&&await new Promise(y=>setTimeout(y,_-a)),s.value=!1}}async function l(){await o()}return Y(()=>{o()}),(f,a)=>{var _,y,O;return d(),m("div",nt,[e("div",lt,[a[0]||(a[0]=e("span",{class:"material-symbols-rounded quote-icon"},"format_quote",-1)),e("p",it,v(((_=r.value)==null?void 0:_.quote)||"加载中..."),1)]),e("div",rt,[e("div",ct,[e("span",ut,"— "+v(((y=r.value)==null?void 0:y.author)||"..."),1),(O=r.value)!=null&&O.category?(d(),m("span",dt,v(r.value.category),1)):I("",!0)]),e("button",{class:"m3-icon-button refresh-btn",onClick:l,disabled:s.value},[e("span",{class:B(["material-symbols-rounded",{spinning:s.value}])},"refresh",2)],8,vt)])])}}}),ft=U(mt,[["__scopeId","data-v-3dbdd0bb"]]),ht={class:"quick-actions"},yt={class:"quick-actions-grid"},_t=["onClick"],pt={class:"material-symbols-rounded action-icon"},gt={class:"action-name"},bt={class:"action-desc"},wt={key:0,class:"action-badge"},$t=z({__name:"QuickActions",setup(t){const r=be(),s=[{id:"1",name:"UI聊天室",icon:"forum",route:"/dashboard/chatroom",description:"会话管理"},{id:"2",name:"实时消息",icon:"chat",route:"/dashboard/live-chat",description:"消息流"},{id:"3",name:"插件管理",icon:"deployed_code",route:"/dashboard/plugin-manage",description:"插件管理"},{id:"4",name:"关系管理",icon:"group",route:"/dashboard/relationship",description:"人物关系"},{id:"5",name:"模型配置",icon:"psychology",route:"/dashboard/model-config",description:"LLM模型"},{id:"6",name:"日志查看器",icon:"article",route:"/dashboard/log-viewer",description:"系统日志"},{id:"7",name:"表情管理",icon:"insert_emoticon",route:"/dashboard/emoji-manager",description:"表情库"},{id:"8",name:"机器人配置",icon:"smart_toy",route:"/dashboard/bot-config",description:"配置编辑"}];function o(l){r.push(l.route)}return(l,f)=>(d(),m("div",ht,[e("div",yt,[(d(),m(V,null,W(s,(a,_)=>e("div",{key:a.id,class:"quick-action-card m3-card",style:G({animationDelay:`${_*.05}s`}),onClick:y=>o(a)},[e("span",pt,v(a.icon),1),e("span",gt,v(a.name),1),e("span",bt,v(a.description),1),a.badge?(d(),m("span",wt,v(a.badge),1)):I("",!0)],12,_t)),64))])]))}}),kt=U($t,[["__scopeId","data-v-b64c8b48"]]),Ot={class:"system-status m3-card"},Ct={class:"card-header"},Et={class:"card-body"},xt={class:"status-item"},St={class:"status-info"},Lt={class:"status-value"},Rt={class:"status-progress"},Pt={class:"status-item"},Tt={class:"status-info"},Mt={class:"status-value"},Dt={class:"status-progress"},At={class:"status-item"},It={class:"status-info"},zt={class:"status-value"},Ut={class:"status-item"},Vt={class:"status-info"},Bt={class:"status-value"},Nt={class:"status-sub"},jt={class:"status-item"},qt={class:"status-info"},Ht={class:"status-value"},Ft={class:"status-sub"},Qt=z({__name:"SystemStatus",props:{overview:{},isRefreshing:{type:Boolean}},emits:["refresh"],setup(t,{emit:r}){const s=t,o=r,l=P(()=>{if(!s.overview||!s.overview.system.total_memory_mb)return 0;const u=s.overview.system.total_memory_mb;return Math.min(100,s.overview.system.memory_usage_mb/u*100)});function f(){o("refresh")}function a(u){return u?u>=1024?`${(u/1024).toFixed(1)} GB`:`${u.toFixed(0)} MB`:"-"}function _(u){if(!u)return"-";const n=Math.floor(u/86400),p=Math.floor(u%86400/3600),$=Math.floor(u%3600/60);return n>0?`${n}天${p}时`:p>0?`${p}时${$}分`:`${$}分钟`}function y(u){return u===void 0?"-":`${u.toFixed(1)}%`}function O(u){return u>80?"var(--md-sys-color-error)":u>50?"var(--md-sys-color-tertiary)":"var(--md-sys-color-primary)"}function E(u){return u>85?"var(--md-sys-color-error)":u>70?"#f59e0b":"var(--md-sys-color-secondary)"}return(u,n)=>{var p,$,k,h,S,x,L,T,c,i,w;return d(),m("div",Ot,[e("div",Ct,[n[1]||(n[1]=e("div",{class:"header-title"},[e("span",{class:"material-symbols-rounded"},"monitoring"),e("h3",null,"系统状态")],-1)),e("button",{class:B(["refresh-button",{refreshing:t.isRefreshing}]),onClick:f,title:"刷新系统状态"},[...n[0]||(n[0]=[e("span",{class:"material-symbols-rounded"},"refresh",-1)])],2)]),e("div",Et,[e("div",xt,[n[3]||(n[3]=e("div",{class:"status-icon-container cpu"},[e("span",{class:"material-symbols-rounded"},"memory")],-1)),e("div",St,[n[2]||(n[2]=e("div",{class:"status-label"},"CPU使用率",-1)),e("div",Lt,v(y((p=t.overview)==null?void 0:p.system.cpu_percent)),1),e("div",Rt,[e("div",{class:"progress-bar",style:G({width:`${(($=t.overview)==null?void 0:$.system.cpu_percent)||0}%`,backgroundColor:O(((k=t.overview)==null?void 0:k.system.cpu_percent)||0)})},null,4)])])]),e("div",Pt,[n[5]||(n[5]=e("div",{class:"status-icon-container memory"},[e("span",{class:"material-symbols-rounded"},"storage")],-1)),e("div",Tt,[n[4]||(n[4]=e("div",{class:"status-label"},"内存占用",-1)),e("div",Mt,v(a((h=t.overview)==null?void 0:h.system.memory_usage_mb)),1),e("div",Dt,[e("div",{class:"progress-bar",style:G({width:`${l.value}%`,backgroundColor:E(l.value)})},null,4)])])]),e("div",At,[n[7]||(n[7]=e("div",{class:"status-icon-container time"},[e("span",{class:"material-symbols-rounded"},"schedule")],-1)),e("div",It,[n[6]||(n[6]=e("div",{class:"status-label"},"运行时长",-1)),e("div",zt,v(_((S=t.overview)==null?void 0:S.system.uptime_seconds)),1)])]),e("div",Ut,[n[9]||(n[9]=e("div",{class:"status-icon-container chat"},[e("span",{class:"material-symbols-rounded"},"chat")],-1)),e("div",Vt,[n[8]||(n[8]=e("div",{class:"status-label"},"聊天会话",-1)),e("div",Bt,v(((x=t.overview)==null?void 0:x.chats.total_streams)||0)+" 个",1),e("div",Nt,"群聊 "+v(((L=t.overview)==null?void 0:L.chats.group_streams)||0)+" / 私聊 "+v(((T=t.overview)==null?void 0:T.chats.private_streams)||0),1)])]),e("div",jt,[n[11]||(n[11]=e("div",{class:"status-icon-container plugin"},[e("span",{class:"material-symbols-rounded"},"extension")],-1)),e("div",qt,[n[10]||(n[10]=e("div",{class:"status-label"},"插件状态",-1)),e("div",Ht,v(((c=t.overview)==null?void 0:c.plugins.loaded)||0)+" 个",1),e("div",Ft,"启用 "+v(((i=t.overview)==null?void 0:i.plugins.enabled)||0)+" / 失败 "+v(((w=t.overview)==null?void 0:w.plugins.failed)||0),1)])])])])}}}),Kt=U(Qt,[["__scopeId","data-v-33214c99"]]),Gt={class:"today-schedule m3-card"},Wt={class:"card-header"},Yt={class:"header-title"},Jt={class:"material-symbols-rounded"},Zt={class:"header-actions"},Xt={key:0,class:"m3-badge secondary"},es={key:1,class:"m3-badge secondary"},ts=["title"],ss={class:"card-body"},as={key:0,class:"current-activity"},os={class:"activity-content"},ns={class:"activity-time"},ls={class:"activity-text"},is={key:1,class:"schedule-list"},rs={class:"item-time"},cs={class:"item-content"},us={key:2,class:"empty-state"},ds={key:0,class:"plans-list"},vs={class:"plan-index"},ms={class:"plan-text"},fs={key:1,class:"empty-state"},hs={key:2,class:"plans-footer"},ys={class:"plans-count"},_s=z({__name:"TodaySchedule",props:{schedule:{},monthlyPlans:{}},setup(t){const r=t,s=C("schedule");function o(){s.value=s.value==="schedule"?"plans":"schedule"}function l(f){var a;return(a=r.schedule)!=null&&a.current_activity?f.time_range===r.schedule.current_activity.time_range:!1}return(f,a)=>{var _,y,O,E,u,n,p,$;return d(),m("div",Gt,[e("div",Wt,[e("div",Yt,[e("span",Jt,v(s.value==="schedule"?"calendar_today":"event_note"),1),e("h3",null,v(s.value==="schedule"?"今日日程":"月度计划"),1)]),e("div",Zt,[s.value==="schedule"?(d(),m("span",Xt,v(((_=t.schedule)==null?void 0:_.date)||"-"),1)):(d(),m("span",es,v(((y=t.monthlyPlans)==null?void 0:y.month)||"-"),1)),e("button",{class:"toggle-button",onClick:o,title:s.value==="schedule"?"切换到月度计划":"切换到今日日程"},[...a[0]||(a[0]=[e("span",{class:"material-symbols-rounded"},"swap_horiz",-1)])],8,ts)])]),e("div",ss,[s.value==="schedule"?(d(),m(V,{key:0},[(O=t.schedule)!=null&&O.current_activity?(d(),m("div",as,[a[1]||(a[1]=e("div",{class:"activity-label"},[e("span",{class:"material-symbols-rounded"},"play_circle"),K(" 当前活动 ")],-1)),e("div",os,[e("span",ns,v(t.schedule.current_activity.time_range),1),e("span",ls,v(t.schedule.current_activity.activity),1)])])):I("",!0),(u=(E=t.schedule)==null?void 0:E.activities)!=null&&u.length?(d(),m("div",is,[(d(!0),m(V,null,W(t.schedule.activities,(k,h)=>(d(),m("div",{key:h,class:B(["schedule-item",{"is-current":l(k)}])},[e("div",rs,v(k.time_range),1),e("div",cs,v(k.activity),1)],2))),128))])):(d(),m("div",us,[...a[2]||(a[2]=[e("span",{class:"material-symbols-rounded empty-icon"},"event_busy",-1),e("p",null,"暂无日程安排",-1)])]))],64)):(d(),m(V,{key:1},[(p=(n=t.monthlyPlans)==null?void 0:n.plans)!=null&&p.length?(d(),m("div",ds,[(d(!0),m(V,null,W(t.monthlyPlans.plans,(k,h)=>(d(),m("div",{key:h,class:"plan-item"},[e("span",vs,v(h+1),1),e("span",ms,v(k),1)]))),128))])):(d(),m("div",fs,[...a[3]||(a[3]=[e("span",{class:"material-symbols-rounded empty-icon"},"note_add",-1),e("p",null,"暂无月度计划",-1)])])),($=t.monthlyPlans)!=null&&$.total?(d(),m("div",hs,[e("span",ys,"共 "+v(t.monthlyPlans.total)+" 条计划",1)])):I("",!0)],64))])])}}}),ps=U(_s,[["__scopeId","data-v-c6f92483"]]),gs={class:"dashboard-home-new"},bs={class:"main-content"},ws={class:"content-grid"},$s={class:"chart-section"},ks={class:"m3-card chart-card"},Os={class:"card-header"},Cs={class:"header-actions"},Es={class:"card-body chart-body"},xs={key:0,class:"loading-overlay"},Ss=z({__name:"DashboardHome",setup(t){Oe([Ce,Ee,xe,Se,Le]);const r=we(),s=C(!1),o=C(!1),l=C(null),f=C(null),a=C(null),_=C(null),y=C("last_24_hours"),O=C(!1);let E=null;const u=[{label:"最近1小时",value:"last_hour"},{label:"最近24小时",value:"last_24_hours"},{label:"最近7天",value:"last_7_days"},{label:"最近30天",value:"last_30_days"}],n=C(!1),p=C("");async function $(){O.value=!0;const c=Date.now();try{const i=await X();i.success&&i.data&&(l.value=i.data)}catch(i){console.error("刷新系统状态失败:",i)}finally{const i=Date.now()-c,w=800;i<w&&await new Promise(R=>setTimeout(R,w-i)),O.value=!1}}async function k(){try{const c=await X();c.success&&c.data&&(l.value=c.data)}catch(c){console.debug("自动刷新失败:",c)}}function h(){E||(E=window.setInterval(()=>{k()},5e3))}function S(){E&&(clearInterval(E),E=null)}async function x(){s.value=!0,n.value=!1;try{const[c,i,w]=await Promise.all([X(),Pe(),Te()]);if(!c.success&&c.status===0){p.value=c.error||"无法连接到后端服务",n.value=!0;return}c.success&&c.data&&(l.value=c.data),i.success&&i.data&&(f.value=i.data),w.success&&w.data&&(a.value=w.data),await L()}catch(c){console.error("获取数据失败:",c),p.value="请求发生错误，请检查网络连接",n.value=!0}finally{s.value=!1}}async function L(){o.value=!0;try{const c=await Me(y.value);c.success&&c.data&&(_.value=c.data)}catch(c){console.error("获取消息统计失败:",c)}finally{o.value=!1}}const T=P(()=>{var w;const c=((w=_.value)==null?void 0:w.data_points)||[],i=R=>getComputedStyle(document.documentElement).getPropertyValue(R).trim()||(r.isDark?"#ffffff":"#000000");return{backgroundColor:"transparent",tooltip:{trigger:"axis",backgroundColor:i("--md-sys-color-surface-container-high"),borderColor:i("--md-sys-color-outline-variant"),textStyle:{color:i("--md-sys-color-on-surface")},padding:[8,12],borderRadius:8},legend:{data:["收到消息","发送消息"],textStyle:{color:i("--md-sys-color-on-surface-variant")},bottom:0},grid:{left:"3%",right:"4%",bottom:"15%",top:"10%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:c.map(R=>R.timestamp),axisLine:{lineStyle:{color:i("--md-sys-color-outline-variant")}},axisLabel:{color:i("--md-sys-color-on-surface-variant"),rotate:c.length>12?45:0}},yAxis:{type:"value",axisLine:{lineStyle:{color:i("--md-sys-color-outline-variant")}},axisLabel:{color:i("--md-sys-color-on-surface-variant")},splitLine:{lineStyle:{color:i("--md-sys-color-outline-variant"),opacity:.3}}},series:[{name:"收到消息",type:"line",smooth:!0,data:c.map(R=>R.received),itemStyle:{color:"#10b981"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(16, 185, 129, 0.3)"},{offset:1,color:"rgba(16, 185, 129, 0.05)"}]}}},{name:"发送消息",type:"line",smooth:!0,data:c.map(R=>R.sent),itemStyle:{color:"#3b82f6"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(59, 130, 246, 0.3)"},{offset:1,color:"rgba(59, 130, 246, 0.05)"}]}}}]}});return Y(()=>{x(),h()}),re(()=>{S()}),(c,i)=>(d(),m("div",gs,[M(Xe,{visible:n.value,message:p.value,onClose:i[0]||(i[0]=w=>n.value=!1),onRetry:x},null,8,["visible","message"]),M(ft),M(kt),e("section",bs,[e("div",ws,[M(Kt,{overview:l.value,"is-refreshing":O.value,onRefresh:$},null,8,["overview","is-refreshing"]),M(ps,{schedule:f.value,"monthly-plans":a.value},null,8,["schedule","monthly-plans"])])]),e("section",$s,[e("div",ks,[e("div",Os,[i[2]||(i[2]=e("div",{class:"header-title"},[e("span",{class:"material-symbols-rounded"},"bar_chart"),e("h3",null,"消息统计")],-1)),e("div",Cs,[M(ot,{modelValue:y.value,"onUpdate:modelValue":i[1]||(i[1]=w=>y.value=w),options:u,onChange:L},null,8,["modelValue"])])]),e("div",Es,[o.value?(d(),m("div",xs,[...i[3]||(i[3]=[e("span",{class:"material-symbols-rounded spinning"},"refresh",-1)])])):I("",!0),M(ae(Ge),{class:"chart",option:T.value,autoresize:""},null,8,["option"])])])])]))}}),Ts=U(Ss,[["__scopeId","data-v-18d3f068"]]);export{Ts as default};
